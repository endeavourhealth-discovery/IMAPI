@prefix rr: <http://www.w3.org/ns/r2rml#>.
@prefix rml: <http://semweb.mmlab.be/ns/rml#>.
@prefix im: <http://endhealth.info/im#>.
@prefix fno: <https://w3id.org/function/ontology#> .
@prefix fnml: <http://semweb.mmlab.be/ns/fnml#> .
@base <http://endhealth.info/mapping/prsb.ttl#>.

<#Prsb> a rr:TriplesMap;
  rr:subjectMap [
    fnml:functionValue [
        rr:predicateObjectMap [
          rr:predicate fno:executes ;
          rr:objectMap [ rr:constant im:generateIri ] 
        ];
    ];
  ];

  rr:predicateObjectMap [
    rr:predicate rdf:type;
    rr:objectMap [
      fnml:functionValue [
        rr:predicateObjectMap [
          rr:predicate fno:executes ;
          rr:objectMap [ rr:constant im:getType ] 
        ];
      ]
	  ]
	];

  rr:predicateObjectMap [
    rr:predicate im:isA;
    rr:objectMap [
      fnml:functionValue [
        rr:predicateObjectMap [
          rr:predicate fno:executes ;
          rr:objectMap [ rr:constant im:handleParentRels ] 
        ];
      ]
	  ]
	];

  rr:predicateObjectMap [
    rr:predicate im:isA;
    rr:objectMap [
      fnml:functionValue [
        rr:predicateObjectMap [
          rr:predicate fno:executes ;
          rr:objectMap [ rr:constant im:getIsas ] 
        ];
      ]
	  ]
	];

  # rr:predicateObjectMap [
  #   rr:predicate im:idconstant;
  #   rr:objectMap [
  #     rr:constant "http://endhealth.info/ref#iddisplay";
  #   ]
  # ];

  
  # rr:predicateObjectMap [
  #   rr:predicate im:idtemplate;
  #   rr:objectMap [
  #     rr:template "http://endhealth.info/ref#{iddisplay}";
  #   ]
  # ];

  rr:predicateObjectMap [
    rr:predicate im:label;
    rr:objectMap [
      rml:reference "name[0]['#text']"
    ]
  ].