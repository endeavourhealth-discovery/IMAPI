Business Rules for Quality and Outcomes Framework (QOF) /

Diabetes mellitus

Author: General Practice Specification and Extraction Service (GPSES), NHS England

Version Date:

Version:

# 

Contents

[1. Amendment history](#_Toc151648519)

[2. Background](#_Toc151648520)

[2.1. Document purpose](#_Toc151648521)

[2.2. Business rules supporting information](#_Toc151648522)

[2.3. Clinical codes](#_Toc151648523)

[2.4. Guidance](#_Toc151648524)

[2.5. System prompts](#_Toc151648525)

[3. Dataset specification](#_Toc151648526)

[3.1 Qualifying dates](#qualifying-dates)

[3.2 Patient selection criteria](#_Toc151648528)

[3.2.1 GMS registration status](#_Toc151648529)

[3.2.2 Populations](#_Toc151648530)

[3.2.3 Clinical code clusters](#clinical-code-clusters)

[3.2.4 Clinical data extraction criteria](#clinical-data-extraction-criteria)

[4. Outputs](#_Toc151648533)

[4.1. Indicator(s)](#_Toc151648534)

[DM017](#_Toc151648535)

[DM006](#_Toc151648536)

[DM012](#_Toc151648537)

[DM014](#_Toc151648538)

[DM020](#_Toc151648539)

[DM021](#_Toc151648540)

[DM022](#_Toc151648541)

[DM023](#_Toc151648542)

[DM033](#dm033)

[4.2. Payment count(s)](#_Toc151648544)

[4.3. Management information count(s)](#_Toc151648545)

[4.4. Patient-level extract(s)](#_Toc151648546)

[5. Appendix - supporting data for NHS England GPSES](#_Toc151648547)

This document is produced by NHS England. It is published in MS Word format. If anyone intends to re-use the information contained within it or publish in another format then they should acknowledge the source document as NHS England.

# 1. Amendment history

| **Version**  | **Date**          | **Amendment history**                                                                                                                                                                                                    |
|--------------|-------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Draft 0.3    | 21 June 2003      | From Peter Horsfield                                                                                                                                                                                                     |
| 1.0          | 24 September 2003 | Standard Headers and footers Applied and set to approved.                                                                                                                                                                |
| 1.1          | 03 November 2003  | Added headers and footers to Version 0.4 received from Pete Horsfield on 03/11/03.                                                                                                                                       |
| 2.0          | 12 November 2003  | Amended following 4 Country review                                                                                                                                                                                       |
| 3.0          | 20 January 2004   | Amended following January READ Code Release                                                                                                                                                                              |
| 4.0          | 04 February 2004  | Amended following 4 Country, GPSS and internal review                                                                                                                                                                    |
| 4.1          | 09 April 2004     | SNOMED-CT codes added, 4-byte Read codes removed                                                                                                                                                                         |
| 4.2          | 09 July 2004      | Amended following July READ code release                                                                                                                                                                                 |
| 5.0          | 27 September 2004 | Amended following 4 country review                                                                                                                                                                                       |
| 5.1          | 18 January 2005   | Amended following January READ Code Release                                                                                                                                                                              |
| 5.2          | 18 January 2005   | Amended following 4 Country review                                                                                                                                                                                       |
| 6.0          | 21 July 2005      | Signed off following 4 Country review                                                                                                                                                                                    |
| 6.1          | 21 July 2005      | Amended following July 2005 Read Code release and January 2005 SNOMED CT release                                                                                                                                         |
| 6.2          | 21 August 2005    | Amended following 4 Country review                                                                                                                                                                                       |
| 7.0          | 23 September 2005 | Signed off following 4 Country review                                                                                                                                                                                    |
| 7.1          | 21 November 2005  | From Phil Brown                                                                                                                                                                                                          |
| 7.2          | 22 November 2005  | Amended following review by Peter Horsfield                                                                                                                                                                              |
| 7.3          | 03 December 2005  | Draft revised for internal review                                                                                                                                                                                        |
| 7.4          | 26 February 2006  | Amended following internal & 4 Countries review                                                                                                                                                                          |
| 8.0          | 15 March 2006     | Signed off following 4 Country review                                                                                                                                                                                    |
| 8.1          | 17 May 2006       | Responding to queries raised<br>a) Amend wording for Note 3<br>b) Add 451E. for v2 (and equivalents for other sets) in EGFR_COD                                                                                          |
| 8.5          | 18 May 2006       | Approved by NHSE                                                                                                                                                                                                         |
| 8.6          | 20 October 2006   | April Read Code Release<br>April SNOMED CT Release<br>October Read Code Release <br>Corrections and amendments following feedback                                                                                        |
| 8.7          | 13 November 2006  | DEMEXC_COD: Add missing ‘.’<br>BMI_COD: Add missing ‘.’<br>RET_COD: Add missing ‘.’<br>MALT_COD: Remove duplicate entry of 19518008<br>Response to queries raised by 4 Country Review: remove Reaven’s syndrome from V2. |
| 9.0          | 30 November 2006  | Approved by NHSE                                                                                                                                                                                                         |
| 9.1          | 11 April 2007     | April 2007 Read Code Release                                                                                                                                                                                             |
| 10.0         | 18 June 2007      | Signed off following 4 Country review                                                                                                                                                                                    |
| 10.1         | 09 September 2007 | April 2007 SNOMED CT Release                                                                                                                                                                                             |
| 10.2         | 23 September 2007 | October 2007 Read Code Release<br>October 2007 SNOMED CT Release                                                                                                                                                         |
| 11.0         | 28 November 2007  | Signed off following 4 Country review                                                                                                                                                                                    |
| 11.1         | 30 June 2008      | April 2008 Read Code Release<br>April 2008 SNOMED CT Release<br>QOF Review 2007                                                                                                                                          |
| 12.0         | 24 July 2008      | Signed off following 4 Country review                                                                                                                                                                                    |
| 12.1         | 06 October 2008   | October 2008 Read Code Release <br>October 2008 SNOMED CT Release                                                                                                                                                        |
| 12.2         | 01 December 2008  | Add 66Aq & XaPQH to PP_COD & NPT_COD following review comments                                                                                                                                                           |
| 13.0         | 05 December 2008  | Signed off following 4 Country review                                                                                                                                                                                    |
| 13.1         | 14 February 2009  | QOF Review 2008                                                                                                                                                                                                          |
| 13.2         | 09 March 2009     | Amendment following NHSE review                                                                                                                                                                                          |
| 13.3         | 27 April 2009     | Amended following Four-Country Review                                                                                                                                                                                    |
| 14,0         | 01 May 2009       | Signed off following 4 Country review                                                                                                                                                                                    |
| 14.1         | 25 June 2009      | April 2009 Read Code Release                                                                                                                                                                                             |
| 14.2         | 14 August 2009    | Amendment following 4 Country review                                                                                                                                                                                     |
| 15.0         | 17 August 2009    | Sign off following 4 Country review                                                                                                                                                                                      |
| 15.1         | 12 October 2009   | October 2009 Clinical Code Release                                                                                                                                                                                       |
| 15.2         | 28 October 2009   | October 2009 Clinical Code Release review                                                                                                                                                                                |
| 16.0         | 02 December 2009  | Sign off following 4 Country review                                                                                                                                                                                      |
| 16.1         | 05 May 2010       | Internal NHS IC review                                                                                                                                                                                                   |
| 17.0         | 07 May 2010       | April 2010 Read Code Release following NHS IC review                                                                                                                                                                     |
| 18.0         | 29 October 2010   | October 2010 Read Code Release following NHS IC review                                                                                                                                                                   |
| 19.0         | 13 December 2010  | Signed off following 4 Country review.                                                                                                                                                                                   |
| 20.0         | 13 May 2011       | April 2011 Read Code Release following NHS IC review                                                                                                                                                                     |
| 21.0         | 10 November 2011  | October 2011 Read Code Release following NHS IC review                                                                                                                                                                   |
| 22.0         | 12 December 2011  | Signed off following 4 Country review                                                                                                                                                                                    |
| 23.0         | 31 May 2012       | April 2012 Read Code Release following HSCIC review                                                                                                                                                                      |
| 24.0         | 31 October 2012   | October 2012 Read Code Release following HSCIC review                                                                                                                                                                    |
| 25.0         | 28 March 2013     | Signed off following consultation                                                                                                                                                                                        |
| 26.0         | 01 June 2013      | April 2013 Read Code Release following HSCIC review                                                                                                                                                                      |
| 27.0         | 25 October 2013   | October 2013 Read Code Release following HSCIC review                                                                                                                                                                    |
| 27.1         | 02 December 2013  | Update to FLU_COD and TXFLU_COD                                                                                                                                                                                          |
| Dates_1415   | 17 January 2014   | Review of proposed date changes for QOF 2014/15                                                                                                                                                                          |
| Jan14_Review | 23 January 2014   | Internal review of changes for 2014/15                                                                                                                                                                                   |
| 28.0         | 28 March 2014     | Signed off following review and negotiations.<br>Changes made to incorporate new date terminology                                                                                                                        |
| 29.0         | 27 June 2014      | April 2014 Read Code Release following HSCIC review                                                                                                                                                                      |
| 30.0         | 10 October 2014   | October 2014 Read Code Release following HSCIC review                                                                                                                                                                    |
| 30.1         | 11 December 2014  | Update to correct DM014 Denominator Rule 3                                                                                                                                                                               |
| 31.0         | 12 December 2014  | Signed off following review and negotiations                                                                                                                                                                             |
| 32.0         | 06 May 2015       | April 2015 Read Code Release following HSCIC review                                                                                                                                                                      |
| 33.0         | 27 October 2015   | October 2015 Read Code Release following HSCIC review                                                                                                                                                                    |
| 34.0         | 31 March 2016     | Signed off following review and negotiations                                                                                                                                                                             |
| 35.0         | 29 July 2016      | April 2016 Read Code Release following NHS Digital review                                                                                                                                                                |
| 36.0         | 23 February 2017  | Signed off following review and negotiations.                                                                                                                                                                            |
| 37.0         | 09 June 2017      | April 2017 Read Code Release following NHS Digital review.                                                                                                                                                               |
| 38.0         | 08 November 2017  | October 2017 Read Code release following NHS Digital review.                                                                                                                                                             |
| 39.0         | 16 March 2018     | Signed off following review and negotiations.<br>Note: These business rules use code clusters specified in SNOMED. These replace the Read V2 and CTV3 clusters used in earlier business rules.                           |
| 39.1         | 04 May 2018       | Code string of cluster DMEXC_COD corrected.                                                                                                                                                                              |
| 40.0         | 12 July 2018      | April 2018 clinical code release applied following NHS Digital review.                                                                                                                                                   |
| 41.0         | 30 November 2018  | October 2018 clinical code release applied following NHS Digital review.                                                                                                                                                 |
| 41.1         | 07 December 2018  | Update to BP_COD following NHS Digital review.                                                                                                                                                                           |
| 41.2         | 19 December 2018  | Amendment to DM_COD following NHS Digital review                                                                                                                                                                         |
| 42.0         | 08 March 2019     | Signed off following review and negotiations.                                                                                                                                                                            |
| 44.0         | 29 November 2019  | June and October 2019 clinical code releases applied following NHS Digital review.                                                                                                                                       |
| 45.0         | 01 April 2020     | Signed off following review and negotiations.                                                                                                                                                                            |
| 46.0         | 01 April 2021     | Signed off following review and negotiations. DM018 removed.                                                                                                                                                             |
| 47.0         | 01 April 2022     | Signed off following review and negotiations.                                                                                                                                                                            |
| 48.0         | 31 March 2023     | Signed off following review and negotiations.                                                                                                                                                                            |
| 48.1         | 01 April 2023     | Amendment to DM033 rule 8 logic.                                                                                                                                                                                         |
| 48.2         | 12 April 2023     | Amendment to DM033 Numerator Rule 1 logic changed.                                                                                                                                                                       |
|              |                   |                                                                                                                                                                                                                          |

# 2. Background

## Document purpose

The dataset and business rules documents produced by the NHS England Primary Care Domain General Practice Specification and Extraction Service are created primarily for the uses of GPES and GP system suppliers. These documents contain specifications to communicate technical details of extracts from Primary Care systems which may be used to provide practice-level information regarding services and/or allocate rewards, such as payments or QOF points.

This document is **not** intended to be used in place of clinical guidelines, but may be referred to by any individual or organisation to aid understanding of which patients and/or activity are included in each population or output. Non-technical, textual descriptions of business rules can be found in the table columns highlighted in pale blue throughout the document.

The business rules registers for QOF and Enhanced Services are constructed solely for the purpose of supporting the practice, GP Suppliers, and NHS England in fulfilling the claims and audit requirements for the indicators. Therefore, while a register may carry the name of a particular diagnosis for business rules purposes, it may well not be sufficiently precise to encompass all of those patients who might be clinically assessed as requiring follow-up or clinical intervention. It is advised that where a practice wishes to construct a register for the purposes of call, recall and clinical management that it is patient based rather than solely diagnosis based.

## Business rules supporting information

Further information regarding the setup of the business rules, terminology used and the calculation methods can be found in version 1.6 of the supporting information document which can be accessed here:

<https://digital.nhs.uk/data-and-information/data-collections-and-data-sets/data-collections/quality-and-outcomes-framework-qof>

## Clinical codes

The clinical code strings have been replaced by clinical reference sets (refsets). Both clinical refset and drug refset IDs are denoted by a ‘\^’ prefix.

Please note the content of clinical and drug refsets are subject to change over the course of a year. Drug refsets have the scope to be updated every 4 weeks. The content of clinical refsets is dynamic, and will be updated several times throughout the year. The latest content of refsets can be accessed using the files from [Technology Reference Update Distribution (TRUD)](https://isd.digital.nhs.uk/trud/user/guest/group/0/pack/8/subpack/659/releases) or [Primary Care Domain Reference Set Portal](https://digital.nhs.uk/data-and-information/data-collections-and-data-sets/data-collections/quality-and-outcomes-framework-qof/quality-and-outcome-framework-qof-business-rules/primary-care-domain-reference-set-portal).

## Guidance

Guidance for all Quality Services can be found on the NHS England website through the following links:

<https://www.england.nhs.uk/commissioning/gp-contract/>

## System prompts

Business rules logic is created for data extraction purposes. As such, the reject statements within the logic are not necessarily suitable as rejections for GP system searches and prompts. Patients may be rejected from indicators, via exceptions or personalised care adjustments (PCAs), who are still eligible for care e.g. those who chose not to receive care or where the full time within which to provide the care has not yet passed. Suppliers should consider this when building any related searches and prompts. For searches or prompts aiming to indicate which patients may require QOF care, it is recommended that excluded patients are removed from searches or prompts, and that patients who are excepted/have a PCA are retained within the search or prompt if these patients are still eligible for care.

For example: to support GP practices in enabling them to carry out QOF care reviews after two invitations for care have been coded, **clinical system prompts should not remove a patient from the indicator**. Currently, once the second invite code has been added to the patient record, the Business Rules logic will remove the patient from the Denominator and clinical systems may automatically remove the prompt, removing the chance for opportunistic reviews where necessary. If a patient has not responded to the invitations, and has not received the intervention required by a given indicator, then that patient will be removed from the indicator via personalised care adjustments at year end. This is for payment purposes only. However, up until year end it is expected that such patients should still be flagged up to practices as requiring the care specified by the indicator.

# 3. Dataset specification

## Qualifying dates

The dataset and rules in this document refer to various dates, which may include any number of the dates from the table below.

Further information regarding how to use these dates within calculations can be found in the supporting information document (see section 2.2).

| Term                                   | Description                             | Definition                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | Timeframe for this service                                     |
|----------------------------------------|-----------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------|
| QSSD                                   | Quality Service Start Date              | The first day of the period during which a GP practice provides the Quality Service.                                                                                                                                                                                                                                                                                                                                                                                                                                           |                                                                |
| QSED                                   | Quality Service End Date                | The last day of the period during which a GP practice provides the Quality Service.                                                                                                                                                                                                                                                                                                                                                                                                                                            |                                                                |
| Quality Service Period                 | Quality Service Period                  | The period during which a GP practice provides the Quality Service specified in this document.                                                                                                                                                                                                                                                                                                                                                                                                                                 | The time period between the QSSD and the QSED (inclusive).     |
| Quality Service Data Extract Frequency | Quality Service Data Extract Frequency  | The frequency of data extracts associated with the Quality Service.                                                                                                                                                                                                                                                                                                                                                                                                                                                            | Monthly                                                        |
| Quality Service Payment Period         | Quality Service Payment Period          | The frequency of payments associated with the Quality Service. In any given Quality Service Period there may be one, multiple or no payment periods.                                                                                                                                                                                                                                                                                                                                                                           | Annual                                                         |
| PPSD                                   | Payment Period Start Date               | The first day of each period for which payments are made for the Quality Service.<br>(i.e. for monthly payment periods, the PPSD will be the 1st of the month in question). Where there are no payment periods (e.g. where payments are made as part of core contract) the PPSD denotes the first day of the extract period in question.                                                                                                                                                                                       | Date not used in this ruleset.                                 |
| PPED                                   | Payment Period End Date                 | The last day of each period for which payments are made for the Quality Service. (i.e. for monthly payment periods, the PPED will be the last day of the month in question). Where there are no payment periods (e.g. where payments are made as part of core contract) the PPED denotes the last day of the extract period in question.                                                                                                                                                                                       |                                                                |
| PPED – 3 months                        | Payment Period End Date minus 3 months  | Calculation                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | Based on PPED                                                  |
| PPED – 6 months                        | Payment Period End Date minus 6 months  | Calculation                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | Based on PPED                                                  |
| PPED – 9 months                        | Payment Period End Date minus 9 months  | Calculation                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | Based on PPED                                                  |
| PPED – 12 months                       | Payment Period End Date minus 12 months | Calculation                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | Based on PPED                                                  |
| PPED – 21 months                       | Payment Period End Date minus 21 months | Calculation                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | Based on PPED                                                  |
| ACHV_DAT                               | Achievement Date                        | The date up to which pertinent patient information is considered when determining the output for each extraction. This is usually the same as the RPED; however, where interim extracts are made the achievement date will vary for each extraction.                                                                                                                                                                                                                                                                           | The last day of each month.                                    |
| ACHV_DAT – 3 years                     | Achievement Date minus 3 years          | Calculation                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | Based on ACHV_DAT                                              |
| Reporting Period                       | Reporting Period                        | The full period which data is being extracted for.                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | The time period between the RPSD and the ACHV_DAT (inclusive). |
| RPSD                                   | Reporting Period Start Date             | The date from which pertinent patient information is considered for the reporting period in question: <br>For *non-cumulative\** data extracts this relates to the extract frequency <br>(e.g. for a monthly data extract the RPSD will be the 1st of the month in question). <br>For *cumulative\** data extracts the time period will usually equal the QSSD or PPSD <br>(e.g. for a *within quarter cumulative count* the RPSD is the first day of the quarter, <br>for an *annual cumulative count* the RPSD is the QSSD). | Date not used in this ruleset.                                 |
| RPED                                   | Reporting Period End Date               | The last date of the period the extract relates to (usually the last day of a month e.g. 30th April, 31st May, etc.).                                                                                                                                                                                                                                                                                                                                                                                                          | Date not used in this ruleset.                                 |
| 01/04/2013                             | 1 April 2013                            | Fixed date used by indicator logic of DM014                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | 01/04/2013                                                     |
| *End of dates*                         |                                         |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |                                                                |

*\* For the purposes of the business rules ‘Cumulative’ data collections are extracts which have varying incremental end dates but where groups of extracts or all extracts have a single start date e.g. each extract across the year starts at the QSSD and is taken up to the achievement date. Due to the fact that patients may change practice during the year this is not a true cumulative data collection as patients may drop out of counts or enter counts at a later stage; however, this is the terminology used in this document to describe these kinds of counts. ‘Non-cumulative’ refers to data collections which are discrete extracts between two dates. These non-cumulative data collections do not overlap.*

## Patient selection criteria

All [Populations](#populations) and [Outputs](#4-outputs) in this ruleset are to be returned at **practice-level**.

### GMS registration status

| Qualifying criteria                                                                                                                                                                    | Action if true | Action if false | Non-technical description                                                                                                                                                                                                                                                                     |
|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------|-----------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| (If [REG_DAT](#reg_dat) ≠ Null <br>AND <br>If [DEREG_DAT](#dereg_dat) = Null)<br>OR<br>(If [REG_DAT](#reg_dat) ≠ Null <br>AND <br>If [DEREG_DAT](#dereg_dat) \> [ACHV_DAT](#achv_dat)) | Select         | Reject          | Select patients who, on the achievement date, were registered for GMS.<br>i.e., registered for GMS prior to or on the achievement date and either:<br>did not subsequently deregister from GMS, or<br>deregistered from GMS **after** the achievement date.<br>Reject the remaining patients. |
| *End of rules*                                                                                                                                                                         |                |                 |                                                                                                                                                                                                                                                                                               |

### Populations

#### Case registers

This register/count is based on diagnosis and may not be sufficiently precise to encompass all of those patients who require follow-up or clinical intervention. Therefore, if you wish to construct a register for the purposes of call, recall and clinical management, we recommend that you make a ‘patient’ based register.

*Each patient can only be included once per register.*

| Register name | Description                                                                                   | Applied to patients defined in:                      | GPSES use only: Version | Config style | CQRS code |
|---------------|-----------------------------------------------------------------------------------------------|------------------------------------------------------|-------------------------|--------------|-----------|
| DM_REG        | Diabetes register: Patients aged at least 17 years old with an unresolved diabetes diagnosis. | [GMS registration status](#_GMS_registration_status) | 100                     | Q            | DM        |

| Rule number    | Rule                                                                          | Action if true | Action if false | Rule description or comments                                                                                                                                                                                                                                                                                   |
|----------------|-------------------------------------------------------------------------------|----------------|-----------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|                | If [DMLAT_DAT](#DMLAT_DAT) ≠ Null<br>AND<br>If [DMRES_DAT](#dmres_dat) = Null | Next rule      | Reject          | Pass to the next rule all patients from the specified population who meet both of the criteria below:<br>Have a diabetes diagnosis in the patient record up to and including the achievement date.<br>Latest diabetes diagnosis is not followed by a diabetes resolved code.<br>Reject the remaining patients. |
|                | If [PAT_AGE](#PAT_AGE) \< 17 years                                            | Reject         | Select          | Reject patients passed to this rule who are aged under 17 years old on the achievement date. Select the remaining patients.                                                                                                                                                                                    |
| *End of rules* |                                                                               |                |                 |                                                                                                                                                                                                                                                                                                                |

#### Cohorts

*N/A - there are no cohorts for this service.*

### Clinical code clusters

The dataset may include dates and values associated with the presence of clinical codes in a patient’s record. All clinical code clusters referred to in the clinical data extraction criteria are detailed below. The expanded cluster lists for each cluster can be found on the NHS England website (see section 2.2).

| Cluster name      | Description                                                                                          | SNOMED CT            |
|-------------------|------------------------------------------------------------------------------------------------------|----------------------|
|                   |                                                                                                      |                      |
| ACE_COD           | Angiotensin-converting enzyme (ACE) inhibitor prescription codes                                     | \^12464201000001109  |
| ACEDEC_COD        | Codes indicating the patient has chosen not to receive angiotensin-converting enzyme (ACE) inhibitor | \^999009011000230109 |
| AII_COD           | Angiotensin II receptor blockers (ARB) prescription codes                                            | \^12464301000001100  |
| AIIDEC_COD        | Codes indicating the patient has chosen not to receive angiotensin II receptor blockers (ARB)        | \^999008011000230100 |
| AMPL_COD          | Left foot amputation codes                                                                           | \^999009531000230107 |
| AMPR_COD          | Right foot amputation codes                                                                          | \^999009611000230103 |
| BLDTESTDEC_COD    | Codes indicating the patient has chosen not to receive a blood test                                  | \^999011611000230101 |
| BPDEC_COD         | Codes indicating the patient has chosen not to have blood pressure procedure                         | \^999012611000230106 |
|                   |                                                                                                      |                      |
| CHD_COD           | Coronary heart disease (CHD) codes                                                                   | \^999000771000230107 |
| CHOLMAX_COD       | Codes indicating the patient is on maximum tolerated cholesterol lowering treatment                  | \^999011451000230100 |
| CKD_COD           | Chronic kidney disease (CKD) stage 3-5 codes                                                         | \^999004011000230108 |
| CKD1AND2_COD      | Chronic kidney disease (CKD) stage 1-2 codes                                                         | \^999004051000230107 |
| CKDRES_COD        | Chronic kidney disease (CKD) resolved codes                                                          | \^999004171000230102 |
|                   |                                                                                                      |                      |
| CONABL_COD        | Congenital absence of left foot codes                                                                | \^999031371000230106 |
| CONABR_COD        | Congenital absence of right foot codes                                                               | \^999031411000230105 |
| CVDASS2_COD       | Cardiovascular disease (CVD) risk assessment codes                                                   | \^999011011000230107 |
| DM_COD            | Diabetes mellitus codes                                                                              | \^999004691000230108 |
| DMINVITE_COD      | Invite for diabetes care review codes                                                                | \^999012371000230109 |
| DMMAX_COD         | Codes for maximum tolerated diabetes treatment                                                       | \^999010651000230109 |
| DMPCADEC_COD      | Codes indicating the patient has chosen not to receive diabetes quality indicator care               | \^999010691000230104 |
| DMPCAPU_COD       | Codes for diabetes quality indicator care unsuitable for patient                                     | \^999010731000230107 |
| DMRES_COD         | Diabetes resolved codes                                                                              | \^999003371000230102 |
| DMTYPE2_COD       | Codes for diabetes type 2                                                                            | \^999010771000230109 |
| DSEP_COD          | Referred for diabetes structured education programme                                                 | \^999012651000230105 |
| DSEPDEC_COD       | Codes indicating the patient has chosen not to have diabetes structured education programme          | \^999010811000230109 |
| DSEPPU_COD        | Codes for diabetes structured education programme unsuitable for the patient                         | \^999010851000230108 |
| DSEPSU_COD        | Diabetes structured education programme service unavailable codes                                    | \^999010891000230103 |
| FEDEC_COD         | Codes indicating the patient has chosen not to have a foot examination                               | \^999008531000230102 |
| FEPU_COD          | Codes for foot examination unsuitable for patient                                                    | \^999008651000230105 |
| FHYP_COD          | Familial hypercholesterolemia diagnostic codes                                                       | \^999006811000230109 |
| FRC_COD           | Foot risk classification codes                                                                       | \^999008851000230109 |
|                   |                                                                                                      |                      |
|                   |                                                                                                      |                      |
| HOMEBPDEC_COD     | Codes indicating patient chosen not to undertake home blood pressure measurement (HBPM)              | \^999028571000230109 |
| HSTRK_COD         | Haemorrhagic stroke codes                                                                            | \^999012811000230105 |
| HTMAX_COD         | Codes for maximal blood pressure (BP) therapy                                                        | \^999006651000230109 |
| IFCCHBAM_COD      | IFCC HbA1c monitoring range codes                                                                    | \^999003251000230103 |
| MAL_COD           | Codes for microalbuminuria                                                                           | \^999013331000230101 |
| MILDFRAIL_COD     | Mild frailty diagnosis codes                                                                         | \^999013531000230106 |
| MODFRAIL_COD      | Moderate frailty diagnosis codes                                                                     | \^999013571000230108 |
| NPTDEC_COD        | Codes indicating the patient has chosen not to have a neuropathy assessment                          | \^999009571000230109 |
| NPTPU_COD         | Codes for neuropathy assessment unsuitable for patient                                               | \^999009691000230109 |
| PAD_COD           | Peripheral arterial disease (PAD) diagnostic codes                                                   | \^999005931000230101 |
| PRT_COD           | Codes for proteinuria                                                                                | \^999010331000230106 |
| SERFRUC_COD       | Serum fructosamine codes                                                                             | \^999005691000230107 |
| SEVFRAIL_COD      | Severe frailty diagnosis codes                                                                       | \^999012131000230109 |
| STAT_COD          | Statin codes                                                                                         | \^12464001000001103  |
| STATINDEC_COD     | Codes indicating the patient has chosen not to receive a statin prescription                         | \^999008051000230101 |
| STRK_COD          | Stroke diagnosis codes                                                                               | \^999005531000230105 |
| TIA_COD           | Transient ischaemic attack (TIA) codes                                                               | \^999005291000230109 |
| TXACE_COD         | Angiotensin-converting enzyme (ACE) inhibitor contraindications (expiring)                           | \^999005251000230104 |
| TXAII_COD         | Angiotensin II receptor blockers (ARB) contraindications (expiring)                                  | \^999004491000230106 |
| TXSTAT_COD        | Statin contraindications (expiring)                                                                  | \^999008571000230100 |
| XACE_COD          | Angiotensin-converting enzyme (ACE) inhibitor contraindications (persisting)                         | \^999004371000230104 |
| XAII_COD          | Angiotensin II receptor blockers (ARB) contraindications (persisting)                                | \^999004331000230101 |
| XSTAT_COD         | Statin contraindications (persisting)                                                                | \^999008291000230103 |
| *End of clusters* |                                                                                                      |                      |

### Clinical data extraction criteria

| Field number    | Field name     | Code cluster <br>(if applicable)   | Qualifying criteria                                                                                              | Non-technical description                                                                                                                                                                                                                                                     |
|-----------------|----------------|------------------------------------|------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|                 | PAT_ID         | n/a                                | Unconditional                                                                                                    | *The patient’s unique ID number for the practice in question.*                                                                                                                                                                                                                |
|                 | REG_DAT        | n/a                                | Latest \<= [ACHV_DAT](#achv_dat)                                                                                 | *The most recent date that the patient registered for GMS, where this registration occurred on or before the achievement date.*                                                                                                                                               |
|                 | DEREG_DAT      | n/a                                | Earliest \> [REG_DAT](#_REG_DAT)                                                                                 | *The first occurrence of the patient deregistering from GMS following the latest GMS registration.*                                                                                                                                                                           |
|                 | PAT_AGE        | n/a                                | Unconditional at [ACHV_DAT](#achv_dat)                                                                           | *The age of the patient in full years at the achievement date.*                                                                                                                                                                                                               |
|                 | DM_DAT         | [DM_COD](#dm_cod)                  | Earliest \<= [ACHV_DAT](#achv_dat)                                                                               | *Date of the first diabetes diagnosis up to and including the achievement date.*                                                                                                                                                                                              |
|                 | DMLAT_DAT      | [DM_COD](#dm_cod)                  | Latest \<= [ACHV_DAT](#achv_dat)                                                                                 | *Date of the most recent diabetes diagnosis up to and including the achievement date.*                                                                                                                                                                                        |
|                 | DMRES_DAT      | [DMRES_COD](#dmres_cod)            | Latest \> [DMLAT_DAT](#dmlat_dat)<br>AND \<= [ACHV_DAT](#achv_dat)                                               | *Date of the most recent diabetes diagnosis resolved code recorded after the most recent diabetes diagnosis and up to and including the achievement date.*                                                                                                                    |
|                 | DMMAX_DAT      | [DMMAX_COD](#_DMMAX_COD)           | Latest \<= [ACHV_DAT](#achv_dat)                                                                                 | *Date of the most recent maximum tolerated diabetes treatment code up to and including the achievement date.*                                                                                                                                                                 |
|                 | IFCCHBA_DAT    | [IFCCHBAM_COD](#ifcchbam_cod)      | Latest \<= [ACHV_DAT](#achv_dat)                                                                                 | *Date of the most recent IFCC HbA1c monitoring range code up to and including the achievement date.*                                                                                                                                                                          |
|                 | IFCCHBA_VAL    | [IFCCHBAM_COD](#ifcchbam_cod)      | Recorded on [IFCCHBA_DAT](#_IFCCHBA_DAT)                                                                         | *The IFCC HbA1c value associated with the most recent IFCC HbA1c monitoring range recording.*                                                                                                                                                                                 |
|                 | SERFRUC_DAT    | [SERFRUC_COD](#serfruc_cod)        | Latest \<= [ACHV_DAT](#achv_dat)                                                                                 | *Date of the most recent serum fructosamine code recorded up to and including the achievement date.*                                                                                                                                                                          |
|                 | {}             |                                    | ALL \<= [ACHV_DAT](#achv_dat)                                                                                    | *All dates on which a blood pressure was recorded excluding  at home, up to and including the achievement date.*                                                                                                                                                              |
|                 |                |                                    | Recorded on each                                                                                                 | *The systolic blood pressure values associated with each date in the  array.*                                                                                                                                                                                                 |
|                 |                |                                    | Recorded on each                                                                                                 | *The diastolic blood pressure values associated with each date in the  array.*                                                                                                                                                                                                |
|                 |                |                                    | Latest \<= [ACHV_DAT](#achv_dat)<br>Where [BPSYS_VAL] ≠ Null<br>AND [BPDIA_VAL] ≠ Null                           | *Date of the most recent blood pressure reading, with a systolic and diastolic value, up to and including the achievement date.*                                                                                                                                              |
|                 | BPSYS_VAL      |                                    | Recorded on                                                                                                      | *The systolic blood pressure value associated with the most recent blood pressure  excluding home.*                                                                                                                                                                           |
|                 | BPDIA_VAL      |                                    | Recorded on                                                                                                      | *The diastolic blood pressure value associated with the most recent blood pressure recording excluding home.*                                                                                                                                                                 |
|                 |                |                                    | ALL \<= [ACHV_DAT](#achv_dat)                                                                                    | *All dates on which a  home blood pressure was recorded, up to and including the achievement date.*                                                                                                                                                                           |
|                 |                |                                    | Recorded on each                                                                                                 | *The systolic blood pressure values associated with each date in the  array.*                                                                                                                                                                                                 |
|                 |                |                                    | Recorded on each                                                                                                 | *The diastolic blood pressure values associated with each date in the  array.*                                                                                                                                                                                                |
|                 |                |                                    | Latest \<= [ACHV_DAT](#achv_dat)<br>Where ≠ Null<br>AND ≠ Null                                                   | *Date of the most recent home blood pressure reading with a systolic and diastolic value, up to and including the achievement date.*                                                                                                                                          |
|                 |                |                                    | Recorded on                                                                                                      | *The systolic blood pressure value associated with the most recent home blood pressure recording.*                                                                                                                                                                            |
|                 |                |                                    | Recorded on                                                                                                      | *The diastolic blood pressure value associated with the most home blood pressure recording.*                                                                                                                                                                                  |
|                 |                | n/a                                | Latest of<br>(, <br>)                                                                                            | *The latest date of a blood pressure readinghome, with a systolic and diastolic value, up to and including the achievement date.*                                                                                                                                             |
|                 | HOMEBPDEC_DAT  | [HOMEBPDEC_COD](#homebpdec_cod)    | Latest \<= [ACHV_DAT](#_ACHV_DAT)                                                                                | *Date of the most recent code indicating the patient has chosen not to undertake home blood pressure measurement up to and including the achievement date.*                                                                                                                   |
|                 | BPDEC_DAT      | [BPDEC_COD](#_BPEX_COD_1)          | Latest \<= [ACHV_DAT](#achv_dat)                                                                                 | *Date the patient most recently chose not to receive a blood pressure recording up to and including the achievement date.*                                                                                                                                                    |
|                 | HTMAX_DAT      | [HTMAX_COD](#htmax_cod)            | Latest \<= [ACHV_DAT](#achv_dat)                                                                                 | *Date of the most recent maximal blood pressure therapy up to and including the achievement date.*                                                                                                                                                                            |
|                 | PRT_DAT        | [PRT_COD](#prt_cod)                | Latest \<= [ACHV_DAT](#achv_dat)                                                                                 | *Date of the most recent proteinuria diagnosis up to and including the achievement date.*                                                                                                                                                                                     |
|                 | MAL_DAT        | [MAL_COD](#mal_cod)                | Latest \<= [ACHV_DAT](#achv_dat)                                                                                 | *Date of the most recent microalbuminuria diagnosis up to and including the achievement date.*                                                                                                                                                                                |
|                 | XACE_DAT       | [XACE_COD](#xace_cod)              | Latest \<= [ACHV_DAT](#achv_dat)                                                                                 | *Date of the most recent persisting ACE inhibitor contraindication up to and including the achievement date.*                                                                                                                                                                 |
|                 | TXACE_DAT      | [TXACE_COD](#txace_cod)            | Latest \<= [ACHV_DAT](#achv_dat)                                                                                 | *Date of the most recent expiring ACE inhibitor contraindication up to and including the achievement date.*                                                                                                                                                                   |
|                 | XAII_DAT       | [XAII_COD](#xaii_cod)              | Latest \<= [ACHV_DAT](#achv_dat)                                                                                 | *Date of the most recent persisting ARB contraindication up to and including the achievement date.*                                                                                                                                                                           |
|                 | TXAII_DAT      | [TXAII_COD](#txaii_cod)            | Latest \<= [ACHV_DAT](#achv_dat)                                                                                 | *Date of the most recent expiring ARB contraindication up to and including the achievement date.*                                                                                                                                                                             |
|                 | ACE_DAT        | [ACE_COD](#_ACE_COD)               | Latest \<= [ACHV_DAT](#achv_dat)                                                                                 | *Date of the most recent ACE inhibitor prescription code up to and including the achievement date.*                                                                                                                                                                           |
|                 | AII_DAT        | [AII_COD](#_AII_COD)               | Latest \<= [ACHV_DAT](#achv_dat)                                                                                 | *Date of the most recent ARB prescription code up to and including the achievement date.*                                                                                                                                                                                     |
|                 | FRC_DAT        | [FRC_COD](#_FRC_COD_1)             | Latest \<= [ACHV_DAT](#achv_dat)                                                                                 | *Date of the most recent foot risk classification up to and including the achievement date.*                                                                                                                                                                                  |
|                 | AMPR_DAT       | [AMPR_COD](#_AMPR_COD)             | Latest \<= [ACHV_DAT](#achv_dat)                                                                                 | *Date of the most recent right foot amputation code up to and including the achievement date.*                                                                                                                                                                                |
|                 | AMPL_DAT       | [AMPL_COD](#_AMPL_COD)             | Latest \<= [ACHV_DAT](#achv_dat)                                                                                 | *Date of the most recent left foot amputation code up to and including the achievement date.*                                                                                                                                                                                 |
|                 | DSEP_DAT       | [DSEP_COD](#dsep_cod)              | Earliest \>= [DM_DAT](#dm_dat) <br>AND \<= [ACHV_DAT](#achv_dat)                                                 | *Date of the first diabetes structured education programme referral on or after the date of the diabetes diagnosis and up to and including the achievement date.*                                                                                                             |
|                 | DSEPSU_DAT     | [DSEPSU_COD](#dsepsu_cod)          | Latest \>= [DM_DAT](#dm_dat) AND \<= ([DM_DAT](#dm_dat) + 279 days) AND \<= [ACHV_DAT](#achv_dat)                | *The most recent record of diabetes structured education programme services being unavailable in the 279 days following the patient’s diabetes diagnosis and up to and including the achievement date.*                                                                       |
|                 | ACEDEC_DAT     | [ACEDEC_COD](#acedec_cod)          | Latest \<= [ACHV_DAT](#achv_dat)                                                                                 | *The most recent date the patient chose not to receive ACE inhibitors up to and including the achievement date.*                                                                                                                                                              |
|                 | AIIDEC_DAT     | [AIIDEC_COD](#aiidec_cod)          | Latest \<= [ACHV_DAT](#achv_dat)                                                                                 | *The most recent date the patient chose not to receive ARB up to and including the achievement date.*                                                                                                                                                                         |
|                 | BLDTESTDEC_DAT | [BLDTESTDEC_COD](#_BLDTESTDEC_COD) | Latest \<= [ACHV_DAT](#achv_dat)                                                                                 | *Date the patient most recently chose not to receive a blood test up to and including the achievement date.*                                                                                                                                                                  |
|                 | CHD_DAT        | [CHD_COD](#_CHD_COD_1)             | Earliest \<= [ACHV_DAT](#achv_dat)                                                                               | *Date of the first CHD diagnosis up to and including the achievement date.*                                                                                                                                                                                                   |
|                 | CHOLMAX_DAT    | [CHOLMAX_COD](#_CHOLMAX_COD)       | Latest \<= [ACHV_DAT](#achv_dat)                                                                                 | *Date of the most recent maximum tolerated cholesterol lowering treatment up to and including the achievement date.*                                                                                                                                                          |
|                 | CKD_DAT        | [CKD_COD](#ckd_cod)                | Latest \<= [ACHV_DAT](#achv_dat)                                                                                 | *Date of the most recent chronic kidney disease (3-5) diagnosis recorded up to and including the achievement date.*                                                                                                                                                           |
|                 | CKD1AND2_DAT   | [CKD1AND2_COD](#ckd1and2_cod)      | Latest \> [CKD_DAT](#ckd_dat) <br>AND \<= ([ACHV_DAT](#achv_dat))                                                | *Date of the most recent chronic kidney disease (1-2) diagnosis recorded after the latest chronic kidney disease (3-5) diagnosis and up to and including the achievement date.*                                                                                               |
|                 | CKDRES_DAT     | [CKDRES_COD](#ckdres_cod)          | Latest \> [CKD_DAT](#ckd_dat) <br>AND \<= ([ACHV_DAT](#achv_dat))                                                | *Date of the most recent chronic kidney disease resolved code recorded after the latest chronic kidney disease (3-5) diagnosis and up to and including the achievement date.*                                                                                                 |
|                 | CVDASSU10_DAT  | [CVDASS2_COD](#cvdass2_cod)        | Latest \> ([ACHV_DAT](#achv_dat) – 3 years) <br>AND \<= ([ACHV_DAT](#achv_dat))<br>WHERE score is \< 10%         | *Date of the latest cardiovascular disease risk assessment code in the 3 years leading up to and including the achievement date where the score value was under 10%.*                                                                                                         |
|                 | CVDASSO10_DAT  | [CVDASS2_COD](#cvdass2_cod)        | Latest \> [CVDASSU10_DAT](#cvdassu10_dat) <br>AND \<= ([ACHV_DAT](#achv_dat))<br>WHERE score is \>=10%           | *Date of the patient’s latest cardiovascular disease risk assessment with a score of 10% or more which was recorded after the patient’s latest low scoring risk assessment (as defined in* [*CVDASSU10_DAT*](#cvdassu10_dat)*) and up to and including the achievement date.* |
|                 | DMINVITE1_DAT  | DMINVITE_COD                       | Earliest \>= [QSSD](#_Quality_Service_Start) <br>AND \<= [ACHV_DAT](#achv_dat)                                   | *Date of the earliest invitation for a diabetes review on or after the quality service start date and up to and including the achievement date.*                                                                                                                              |
|                 | DMINVITE2_DAT  | [DMINVITE_COD](#_DMINVITE_COD_2)   | Earliest \>= ([DMINVITE1_DAT](#dminvite1_dat) + 7 days) AND \<= [ACHV_DAT](#achv_dat)                            | *Date of the earliest invitation for a diabetes review recorded at least 7 days after the first invitation and up to and including the achievement date.*                                                                                                                     |
|                 | DMPCADEC_DAT   | [DMPCADEC_COD](#_DMPCADEC_COD)     | Latest \<= [ACHV_DAT](#achv_dat)                                                                                 | *Date the patient most recently chose not to receive diabetes quality indicator care up to and including the achievement date.*                                                                                                                                               |
|                 | DMPCAPU_DAT    | [DMPCAPU_COD](#dmpcapu_cod)        | Latest \<= [ACHV_DAT](#achv_dat)                                                                                 | *Most recent date that diabetes quality indicator care was deemed unsuitable for the patient up to and including the achievement date.*                                                                                                                                       |
|                 | DMTYPE2_DAT    | [DMTYPE2_COD](#dmtype2_cod)        | Latest \<= [ACHV_DAT](#achv_dat)                                                                                 | *Date of the most recent diabetes type 2 diagnosis up to and including the achievement date.*                                                                                                                                                                                 |
|                 | DSEPDEC_DAT    | [DSEPDEC_COD](#_DSEPDEC_COD)       | Latest \>= [DM_DAT](#dm_dat) AND \<= ([DM_DAT](#dm_dat) + 279 days) AND \<= [ACHV_DAT](#achv_dat)                | *Date the patient most recently chose not to receive a diabetes structured education programme in the 279 days following the patient’s diabetes diagnosis and up to and including the achievement date.*                                                                      |
|                 | DSEPPU_DAT     | [DSEPPU_COD](#dseppu_cod)          | Latest \<= [ACHV_DAT](#achv_dat)                                                                                 | *Most recent date that the patient was deemed unsuitable for a diabetes structured education programme up to and including the achievement date.*                                                                                                                             |
|                 | FEDEC_DAT      | [FEDEC_COD](#_FEDEC_COD)           | Latest \<= [ACHV_DAT](#achv_dat)                                                                                 | *Date the patient most recently chose not to receive a foot examination up to and including the achievement date.*                                                                                                                                                            |
|                 | FEPU_DAT       | [FEPU_COD](#fepu_cod)              | Latest \<= [ACHV_DAT](#achv_dat)                                                                                 | *Most recent date that the patient was deemed unsuitable for a foot examination up to and including the achievement date.*                                                                                                                                                    |
|                 | FHYP_DAT       | [FHYP_COD](#fhyp_cod)              | Earliest \<= [ACHV_DAT](#achv_dat)                                                                               | *Date of the first familial hypercholesterolemia diagnosis up to and including the achievement date.*                                                                                                                                                                         |
|                 | HSTRK_DAT      | [HSTRK_COD](#hstrk_cod)            | Earliest \<= [ACHV_DAT](#achv_dat)                                                                               | *Date of the first haemorrhagic stroke diagnosis up to and including the achievement date.*                                                                                                                                                                                   |
|                 | MILDFRAIL_DAT  | [MILDFRAIL_COD](#mildfrail_cod)    | Latest \<= [ACHV_DAT](#achv_dat)                                                                                 | *Date of the most recent mild frailty diagnosis up to and including the achievement date.*                                                                                                                                                                                    |
|                 | MODFRAIL_DAT   | [MODFRAIL_COD](#modfrail_cod)      | Latest \<= [ACHV_DAT](#achv_dat)                                                                                 | *Date of the most recent moderate frailty diagnosis up to and including the achievement date.*                                                                                                                                                                                |
|                 | NPTDEC_DAT     | [NPTDEC_COD](#_NPTDEC_COD)         | Latest \<= [ACHV_DAT](#achv_dat)                                                                                 | *Date the patient most recently chose not to receive a neuropathy assessment up to and including the achievement date.*                                                                                                                                                       |
|                 | NPTPU_DAT      | [NPTPU_COD](#nptpu_cod)            | Latest \<= [ACHV_DAT](#achv_dat)                                                                                 | *Most recent date that the patient was deemed unsuitable for a neuropathy assessment up to and including the achievement date.*                                                                                                                                               |
|                 | PAD_DAT        | [PAD_COD](#_PAD_COD_1)             | Earliest \<= [ACHV_DAT](#achv_dat)                                                                               | *Date of the first peripheral arterial disease diagnosis up to and including the achievement date.*                                                                                                                                                                           |
|                 | SEVFRAIL_DAT   | [SEVFRAIL_COD](#sevfrail_cod)      | Latest \<= [ACHV_DAT](#achv_dat)                                                                                 | *Date of the most recent severe frailty diagnosis up to and including the achievement date.*                                                                                                                                                                                  |
|                 | STAT_DAT       | [STAT_COD](#stat_cod)              | Latest \<= [ACHV_DAT](#achv_dat)                                                                                 | *Date of the most recent statin code in the patient’s record up to and including the achievement date.*                                                                                                                                                                       |
|                 | STATINDEC_DAT  | [STATINDEC_COD](#statindec_cod)    | Latest \<= [ACHV_DAT](#achv_dat)                                                                                 | *The most recent date the patient chose not to receive statins up to and including the achievement date.*                                                                                                                                                                     |
|                 | STRK_DAT       | [STRK_COD](#strk_cod)              | Earliest \<= [ACHV_DAT](#achv_dat)                                                                               | *Date of the first stroke diagnosis up to and including the achievement date.*                                                                                                                                                                                                |
|                 | TIA_DAT        | [TIA_COD](#_TIA_COD)               | Earliest \<= [ACHV_DAT](#achv_dat)                                                                               | *Date of the first TIA diagnosis up to and including the achievement date.*                                                                                                                                                                                                   |
|                 | TXSTAT_DAT     | [TXSTAT_COD](#_TXSTAT_COD)         | Latest \<= [ACHV_DAT](#achv_dat)                                                                                 | *Date of the most recent expiring statin contraindication up to and including the achievement date.*                                                                                                                                                                          |
|                 | XSTAT_DAT      | [XSTAT_COD](#_XSTAT_COD)           | Latest \<= [ACHV_DAT](#achv_dat)                                                                                 | *Date of the most recent persisting statin contraindication in the patient’s record up to and including the achievement date.*                                                                                                                                                |
|                 | FRAILLAT_DAT   | n/a                                | Latest of <br>([MILDFRAIL_DAT](#mildfrail_dat), [MODFRAIL_DAT](#modfrail_dat),<br>[SEVFRAIL_DAT](#sevfrail_dat)) | *The date of the latest frailty diagnosis up to and including the achievement date.*                                                                                                                                                                                          |
|                 | CONABL_DAT     | [CONABL_COD](#conabl_cod)          | Latest \<= [ACHV_DAT](#achv_dat)                                                                                 | *Date of the most recent recording of congenital absence of the left foot up to and including the achievement date.*                                                                                                                                                          |
|                 | CONABR_DAT     | [CONABR_COD](#conabr_cod)          | Latest \<= [ACHV_DAT](#achv_dat)                                                                                 | *Date of the most recent recording of congenital absence of the right foot up to and including the achievement date.*                                                                                                                                                         |
|                 |                |                                    |                                                                                                                  |                                                                                                                                                                                                                                                                               |
| *End of fields* |                |                                    |                                                                                                                  |                                                                                                                                                                                                                                                                               |

# 

# 4. Outputs

## Indicator(s)

| **Indicator ID** | Description                                                                                                                                                                            | Applied to population: | GPSES only: Version | Config style |
|------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------|---------------------|--------------|
| DM017            | The contractor establishes and maintains a register of all patients aged 17 or over with diabetes mellitus, which specifies the type of diabetes where a diagnosis has been confirmed. | [DM_REG](#_XXX_REG)    | 100                 | Q            |

The terms of this indicator will be satisfied if the practice is able to produce a data extraction according to the rules for the population specified above.

| <br>**Indicator ID** | Description                                                                                                                                                                               | Applied to population: | GPSES only: Version | Config style |
|----------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------|---------------------|--------------|
| DM006                | The percentage of patients with diabetes, on the register, with a diagnosis of nephropathy (clinical proteinuria) or micro-albuminuria who are currently treated with an ACE-I (or ARBs). | [DM_REG](#_XXX_REG)    | 101                 | Q            |

The numerator is applied to the patients selected into the denominator for this indicator.

| **Denominator**            |                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |                |                 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |           |                 |
|----------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------|-----------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-----------|-----------------|
| Rule number                | Rule                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | Action if true | Action if false | Rule description or comments                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | Rule type | CQRS short name |
|                            | If [PRT_DAT](#prt_dat) = Null<br>AND<br>If [MAL_DAT](#mal_dat) = Null                                                                                                                                                                                                                                                                                                                                                                                                    | Reject         | Next rule       | Reject patients from the specified population who meet both of the criteria below:<br>Have no record of a proteinuria code.<br>Have no record of a microalbuminuria code.<br>Pass all remaining patients to the next rule.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | EX        | PRT_COD         |
|                            | If [ACE_DAT](#ace_dat) \> ([PPED](#_Payment_Period_End) – 6 months)<br>OR<br>If [AII_DAT](#aii_dat) \> ([PPED](#_Payment_Period_End) – 6 months)                                                                                                                                                                                                                                                                                                                         | Select         | Next rule       | Select patients passed to this rule who meet either of the criteria below:<br>Have been treated with an ACE inhibitor (ACE-I) in the 6 months leading up to and including the payment period end date.<br>Have been treated with an ARB in the 6 months leading up to and including the payment period end date.<br>Pass all remaining patients to the next rule.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | SX        |                 |
|                            | (If [XACE_DAT](#xace_dat) ≠ Null <br>OR<br>If [TXACE_DAT](#txace_dat) \> ([PPED](#_Payment_Period_End) – 12 months))<br>AND<br>(If [XAII_DAT](#xaii_dat) ≠ Null<br>OR<br>If [TXAII_DAT](#txaii_dat) \> ([PPED](#_Payment_Period_End) – 12 months))                                                                                                                                                                                                                       | Reject         | Next rule       | Reject patients passed to this rule who meet both of the criteria below:<br>Have a persisting contraindication or an expiring contraindication to an ACE-I recorded in the 12 months leading up to and including the payment period end date.<br>Have a persisting contraindication or an expiring contraindication to an ARB recorded in the 12 months leading up to and including the payment period end date.<br>Pass all remaining patients to the next rule.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | PS        | XACE            |
|                            | If [DMPCAPU_DAT](#dmpcapu_dat) \> ([PPED](#_Payment_Period_End) <#PAYMENTPERIODEND_DAT>– 12 months)                                                                                                                                                                                                                                                                                                                                                                      | Reject         | Next rule       | Reject patients passed to this rule for whom diabetes quality indicator care was unsuitable in the 12 months leading up to and including the payment period end date. Pass all remaining patients to the next rule.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | PG        | DMPCAPU         |
|                            | If [ACEDEC_DAT](#acedec_dat) \> ([PPED](#_Payment_Period_End) <#PAYMENTPERIODEND_DAT>– 12 months)<br>AND<br>If [AIIDEC_DAT](#aiidec_dat) \> ([PPED](#_Payment_Period_End) <#PAYMENTPERIODEND_DAT>– 12 months)                                                                                                                                                                                                                                                            | Reject         | Next rule       | Reject patients passed to this rule who, in the 12 months leading up to and including the payment period end date, met both of the criteria below:<br>Chose not to receive an ACE inhibitor <br>Chose not to receive an ARB <br>Pass all remaining patients to the next rule.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | PS        | ACEDEC          |
|                            | (If [XACE_DAT](#xace_dat) ≠ Null <br>OR<br>If [TXACE_DAT](#txace_dat) \> ([PPED](#_Payment_Period_End) – 12 months)<br>OR<br>If [ACEDEC_DAT](#acedec_dat) \> ([PPED](#_Payment_Period_End) <#PAYMENTPERIODEND_DAT>– 12 months))<br>AND<br>(If [XAII_DAT](#xaii_dat) ≠ Null<br>OR<br>If [TXAII_DAT](#txaii_dat) \> ([PPED](#_Payment_Period_End) – 12 months)<br>OR<br>If [AIIDEC_DAT](#aiidec_dat) \> ([PPED](#_Payment_Period_End) <#PAYMENTPERIODEND_DAT>– 12 months)) | Reject         | Next rule       | Reject patients passed to this rule who meet both of the criteria below:<br>Have any of the following in their record:<br>A persisting contraindication to an ACE-I anywhere in their record.<br>An expiring contraindication to an ACE-I recorded in the 12 months leading up to and including the payment period end date.<br>Have chosen not to receive an ACE-I in the 12 months leading up to and including the payment period end date.<br>AND<br>Have any of the following in their record:<br>A persisting contraindication to an ARB anywhere in their record.<br>An expiring contraindication to an ARB recorded in the 12 months leading up to and including the payment period end date.<br>Have chosen not to receive an ARB in the 12 months leading up to and including the payment period end date.<br>Pass all remaining patients to the next rule.                                                                                                                                                                                                                                                                                                                            | PS        | XACEARBDEC      |
|                            | If [DMPCADEC_DAT](#dmpcadec_dat) \> ([PPED](#_Payment_Period_End) – 12 months)                                                                                                                                                                                                                                                                                                                                                                                           | Reject         | Next rule       | Reject patients passed to this rule who chose not to receive diabetes quality indicator care in the 12 months leading up to and including the payment period end date. Pass all remaining patients to the next rule.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            | PG        | DMPCADEC        |
|                            | If [DMINVITE1_DAT](#dminvite1_dat) ≠ Null<br>AND<br>If [DMINVITE2_DAT](#dminvite2_dat) ≠ Null                                                                                                                                                                                                                                                                                                                                                                            | Reject         | Next rule       | Reject patients passed to this rule who have not responded to at least two diabetes care review invitations, made at least 7 days apart, in the 12 months leading up to and including the payment period end date. Pass all remaining patients to the next rule.<br>*Please note: to support GP practices in enabling them to carry out QOF care reviews after two invitations for care have been coded,* **clinical system prompts should not remove a patient from the indicator***.* <br>*Currently, once the second invite code has been added to the patient record, the Business Rules logic will remove the patient from the Denominator and clinical systems may automatically remove the prompt, removing the chance for opportunistic reviews where necessary. If a patient has not responded to the invitations, and has not received the intervention required by a given indicator, then that patient will be removed from the indicator via personalised care adjustments at year end. This is for payment purposes only. However, up until year end it is expected that such patients should still be flagged up to practices as requiring the care specified by the indicator.* | PG        | DMINVITE        |
|                            | If [DM_DAT](#dm_dat) \> ([PPED](#_Payment_Period_End) – 3 months)                                                                                                                                                                                                                                                                                                                                                                                                        | Reject         | Next rule       | Reject patients passed to this rule who were recently diagnosed (first diabetes diagnosis recorded in the 3 month period leading up to and including the payment period end date). Pass all remaining patients to the next rule.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | PG        | DIAG1_DAT       |
|                            | If [REG_DAT](#reg_dat) \> ([PPED](#_Payment_Period_End) – 3 months)                                                                                                                                                                                                                                                                                                                                                                                                      | Reject         | Select          | Reject patients passed to this rule who were recently registered at the practice (patient registered in the 3 months leading up to and including the payment period end date). Select the remaining patients.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | PG        | REG1_DAT3       |
| *End of denominator rules* |                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |                |                 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |           |                 |

| **Numerator**            | Configure                                                                                                                                        |                |                 |                                                                                                                                                                                                                                                                                                                                     |   |
|--------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------|----------------|-----------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---|
| Rule number              | Rule                                                                                                                                             | Action if true | Action if false | Rule description or comments                                                                                                                                                                                                                                                                                                        | Y |
|                          | If [ACE_DAT](#ace_dat) \> ([PPED](#_Payment_Period_End) – 6 months)<br>OR<br>If [AII_DAT](#aii_dat) \> ([PPED](#_Payment_Period_End) – 6 months) | Select         | Reject          | Select patients from the denominator who meet either of the criteria below:<br>Have been treated with an ACE-I in the 6 months leading up to and including the payment period end date.<br>Have been treated with an ARB in the 6 months leading up to and including the payment period end date.<br>Reject the remaining patients. |   |
| *End of numerator rules* |                                                                                                                                                  |                |                 |                                                                                                                                                                                                                                                                                                                                     |   |

| **<br>Indicator ID** | Description                                                                                                                                                                                                                                                                                                                                                                | Applied to population: | GPSES only: Version | Config style |
|----------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------|---------------------|--------------|
| DM012                | The percentage of patients with diabetes, on the register, with a record of a foot examination and risk classification: 1) low risk (normal sensation, palpable pulses), 2) increased risk (neuropathy or absent pulses), 3) high risk (neuropathy or absent pulses plus deformity or skin changes in previous ulcer) or 4) ulcerated foot within the preceding 12 months. | [DM_REG](#_XXX_REG)    | 103                 | Q            |

The numerator is applied to the patients selected into the denominator for this indicator.

| **Denominator**            |                                                                                                                                                                         |                |                 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |           |                 |
|----------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------|-----------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-----------|-----------------|
| Rule number                | Rule                                                                                                                                                                    | Action if true | Action if false | Rule description or comments                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | Rule type | CQRS short name |
|                            | If [FRC_DAT](#frc_dat) \> ([PPED](#_Payment_Period_End) – 12 months)                                                                                                    | Select         | Next rule       | Select patients from the specified population who have had their foot risk classified in the 12 months leading up to and including the payment period end date. Pass all remaining patients to the next rule.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | SX        |                 |
|                            | (If [AMPR_DAT](#ampr_dat) ≠ Null<br>OR<br>If [CONABR_DAT](#conabr_dat) ≠ Null)<br>AND<br>(If [AMPL_DAT](#ampl_dat) ≠ Null<br>OR<br>If [CONABL_DAT](#conabl_dat) ≠ Null) | Reject         | Next rule       | Reject patients passed to this rule who have had their foot amputated or have a congenital abnormality for both their left and right foot which means a foot examination is unsuitable. Pass all remaining patients to the next rule.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | EX        | AMPR3_DAT       |
|                            | If [NPTPU_DAT](#nptpu_dat) \> ([PPED](#_Payment_Period_End) – 12 months)                                                                                                | Reject         | Next rule       | Reject patients passed to this rule for whom neuropathy testing was unsuitable in the 12 months leading up to and including the payment period end date. Pass all remaining patients to the next rule.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | PS        | NPTPU           |
|                            | If [FEPU_DAT](#fepu_dat) \> ([PPED](#_Payment_Period_End) – 12 months)                                                                                                  | Reject         | Next rule       | Reject patients passed to this rule for whom a foot examination was unsuitable in the 12 months leading up to and including the payment period end date. Pass all remaining patients to the next rule.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | PS        | FEPU            |
|                            | If [DMPCAPU_DAT](#dmpcapu_dat) \> ([PPED](#_Payment_Period_End) <#PAYMENTPERIODEND_DAT>– 12 months)                                                                     | Reject         | Next rule       | Reject patients passed to this rule for whom diabetes quality indicator care was unsuitable in the 12 months leading up to and including the payment period end date. Pass all remaining patients to the next rule.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | PG        | DMPCAPU         |
|                            | If [NPTDEC_DAT](#nptdec_dat) \> ([PPED](#_Payment_Period_End) <#PAYMENTPERIODEND_DAT>– 12 months)                                                                       | Reject         | Next rule       | Reject patients passed to this rule who chose not to receive neuropathy testing in the 12 months leading up to and including the payment period end date. Pass all remaining patients to the next rule.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | PS        | NPTDEC          |
|                            | If [FEDEC_DAT](#fedec_dat) \> ([PPED](#_Payment_Period_End) <#PAYMENTPERIODEND_DAT>– 12 months)                                                                         | Reject         | Next rule       | Reject patients passed to this rule who chose not to receive a foot examination in the 12 months leading up to and including the payment period end date. Pass all remaining patients to the next rule.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | PS        | FEDEC           |
|                            | If [DMPCADEC_DAT](#dmpcadec_dat) \> ([PPED](#_Payment_Period_End) – 12 months)                                                                                          | Reject         | Next rule       | Reject patients passed to this rule who chose not to receive diabetes quality indicator care in the 12 months leading up to and including the payment period end date. Pass all remaining patients to the next rule.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            | PG        | DMPCADEC        |
|                            | If [DMINVITE1_DAT](#dminvite1_dat) ≠ Null<br>AND<br>If [DMINVITE2_DAT](#dminvite2_dat) ≠ Null                                                                           | Reject         | Next rule       | Reject patients passed to this rule who have not responded to at least two diabetes care review invitations, made at least 7 days apart, in the 12 months leading up to and including the payment period end date. Pass all remaining patients to the next rule.<br>*Please note: To support GP practices in enabling them to carry out QOF care reviews after two invitations for care have been coded,* **clinical system prompts should not remove a patient from the indicator***.* <br>*Currently, once the second invite code has been added to the patient record, the Business Rules logic will remove the patient from the Denominator and clinical systems may automatically remove the prompt, removing the chance for opportunistic reviews where necessary. If a patient has not responded to the invitations, and has not received the intervention required by a given indicator, then that patient will be removed from the indicator via personalised care adjustments at year end. This is for payment purposes only. However, up until year end it is expected that such patients should still be flagged up to practices as requiring the care specified by the indicator.* | PG        | DMINVITE        |
|                            | If [DM_DAT](#dm_dat) \> ([PPED](#_Payment_Period_End) – 3 months)                                                                                                       | Reject         | Next rule       | Reject patients passed to this rule whose diabetes diagnosis was in the 3 months leading up to and including the payment period end date. Pass all remaining patients to the next rule.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | PG        | DIAG1_DAT       |
|                            | If [REG_DAT](#reg_dat) \> ([PPED](#_Payment_Period_End) – 3 months)                                                                                                     | Reject         | Select          | Reject patients passed to this rule who were recently registered at the practice (patient registered in the 3 months leading up to and including the payment period end date). Select the remaining patients.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | PG        | REG1_DAT3       |
| *End of denominator rules* |                                                                                                                                                                         |                |                 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |           |                 |

| **Numerator**            | Configure                                                            |                |                 |                                                                                                                                                                                       |   |
|--------------------------|----------------------------------------------------------------------|----------------|-----------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---|
| Rule number              | Rule                                                                 | Action if true | Action if false | Rule description or comments                                                                                                                                                          | Y |
|                          | If [FRC_DAT](#frc_dat) \> ([PPED](#_Payment_Period_End) – 12 months) | Select         | Reject          | Select patients from the denominator who have had their foot risk classified in the 12 months leading up to and including the payment period end date. Reject the remaining patients. |   |
| *End of numerator rules* |                                                                      |                |                 |                                                                                                                                                                                       |   |

| **Indicator ID** | Description                                                                                                                                                                                                                                      | Applied to population: | GPSES use only: Version | Config style |
|------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------|-------------------------|--------------|
| DM014            | The percentage of patients newly diagnosed with diabetes, on the register, in the preceding 1 April to 31 March who have a record of being referred to a structured education programme within 9 months after entry on to the diabetes register. | [DM_REG](#_XXX_REG)    | 101                     | Q            |

The numerator is applied to the patients selected into the denominator for this indicator.

| **Denominator**            |                                                                                                             |                |                 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |           |                 |
|----------------------------|-------------------------------------------------------------------------------------------------------------|----------------|-----------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-----------|-----------------|
| Rule number                | Rule                                                                                                        | Action if true | Action if false | Rule description or comments                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | Rule type | CQRS short name |
|                            | If [DM_DAT](#dm_dat) \< 01/04/2013                                                                          | Reject         | Next rule       | Reject patients from the specified population whose earliest diabetes diagnosis was before 1st April 2013. Pass all remaining patients to the next rule.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | EX        | DIAG_DAT13      |
|                            | If [DM_DAT](#dm_dat) \<= ([PPED](#_Payment_Period_End) – 21 months)                                         | Reject         | Next rule       | Reject patients passed to this rule whose earliest diabetes diagnosis was at least 21 months before the payment period end date. Pass all remaining patients to the next rule.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | EX        | DM_DAT2         |
|                            | If [DM_DAT](#dm_dat) \> ([PPED](#_Payment_Period_End) – 9 months)<br>AND<br>If [DSEP_DAT](#dsep_dat) = Null | Reject         | Next rule       | Reject patients passed to this rule who meet both of the criteria below:<br>Have been diagnosed with diabetes in the 9 months leading up to and including the payment period end date.<br>Have **not** yet been referred to a structured education programme.<br>Pass all remaining patients to the next rule. <br>*Please note that patients who are rejected by this rule, by virtue of the practice having not had the full 9 months allowed to refer the patient, will be checked upon the following QOF year as this 9 month timeframe from diagnosis has the potential to span two QOF years.*                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            | EX        | DM_DAT3         |
|                            | If [DSEP_DAT](#dsep_dat) \<= ([PPED](#_Payment_Period_End) – 12 months)                                     | Reject         | Next rule       | Reject patients passed to this rule who were referred to a structured education programme at least 12 months before the payment period end date *i.e. in a previous QOF year.* Pass all remaining patients to the next rule.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | EX        | DSEP_DAT        |
|                            | If [DSEP_DAT](#dsep_dat) \<= ([DM_DAT](#dm_dat) + 279 days)                                                 | Select         | Next rule       | Select patients passed to this rule who have been referred to a structured education programme in the 279 days following their diabetes diagnosis. Pass all remaining patients to the next rule.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | SX        |                 |
|                            | If [DSEPSU_DAT](#dsepsu_dat) ≠ Null                                                                         | Reject         | Next rule       | Reject patients passed to this rule for whom a diabetes structured education programme service was unavailable in the 279 days following their diabetes diagnosis. Pass all remaining patients to the next rule.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | PS        | DSEPSU          |
|                            | If [DSEPPU_DAT](#dseppu_dat) \> ([PPED](#_Payment_Period_End) – 12 months)                                  | Reject         | Next rule       | Reject patients passed to this rule for whom a referral to a diabetes structured education programme was unsuitable in the 12 months leading up to and including the payment period end date. Pass all remaining patients to the next rule.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | PS        | DSEPPU          |
|                            | If [DMPCAPU_DAT](#dmpcapu_dat) \> ([PPED](#_Payment_Period_End) <#PAYMENTPERIODEND_DAT>– 12 months)         | Reject         | Next rule       | Reject patients passed to this rule for whom diabetes quality indicator care was unsuitable in the 12 months leading up to and including the payment period end date. Pass all remaining patients to the next rule.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | PG        | DMPCAPU         |
|                            | If [DSEPDEC_DAT](#dsepdec_dat) ≠ Null                                                                       | Reject         | Next rule       | Reject patients passed to this rule who chose not to be referred to a diabetes structured education programme in the 279 days following their diabetes diagnosis. Pass all remaining patients to the next rule.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | PS        | DSEPDEC         |
|                            | If [DMPCADEC_DAT](#dmpcadec_dat) \> ([PPED](#_Payment_Period_End) – 12 months)                              | Reject         | Next rule       | Reject patients passed to this rule who chose not to receive diabetes quality indicator care in the 12 months leading up to and including the payment period end date. Pass all remaining patients to the next rule.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            | PG        | DMPCADEC        |
|                            | If [DMINVITE1_DAT](#dminvite1_dat) ≠ Null<br>AND<br>If [DMINVITE2_DAT](#dminvite2_dat) ≠ Null               | Reject         | Next rule       | Reject patients passed to this rule who have not responded to at least two diabetes care review invitations, made at least 7 days apart, in the 12 months leading up to and including the payment period end date. Pass all remaining patients to the next rule.<br>*Please note: to support GP practices in enabling them to carry out QOF care reviews after two invitations for care have been coded,* **clinical system prompts should not remove a patient from the indicator***.* <br>*Currently, once the second invite code has been added to the patient record, the Business Rules logic will remove the patient from the Denominator and clinical systems may automatically remove the prompt, removing the chance for opportunistic reviews where necessary. If a patient has not responded to the invitations, and has not received the intervention required by a given indicator, then that patient will be removed from the indicator via personalised care adjustments at year end. This is for payment purposes only. However, up until year end it is expected that such patients should still be flagged up to practices as requiring the care specified by the indicator.* | PG        | DMINVITE        |
|                            | If [DM_DAT](#dm_dat) \> ([PPED](#_Payment_Period_End) – 3 months)                                           | Reject         | Next rule       | Reject patients passed to this rule whose diabetes diagnosis was in the 3 months leading up to and including the payment period end date. Pass all remaining patients to the next rule.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | PG        | DIAG1_DAT       |
|                            | If [REG_DAT](#reg_dat) \> ([PPED](#_Payment_Period_End) – 3 months)                                         | Reject         | Select          | Reject patients passed to this rule who were recently registered at the practice (patient registered in the 3 months leading up to and including the payment period end date). Select the remaining patients.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | PG        | REG1_DAT3       |
| *End of denominator rules* |                                                                                                             |                |                 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |           |                 |

| **Numerator**            | Configure                                                   |                |                 |                                                                                                                                                                                    |   |
|--------------------------|-------------------------------------------------------------|----------------|-----------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---|
| Rule number              | Rule                                                        | Action if true | Action if false | Rule description or comments                                                                                                                                                       | Y |
|                          | If [DSEP_DAT](#dsep_dat) \<= ([DM_DAT](#dm_dat) + 279 days) | Select         | Reject          | Select patients from the denominator who have been referred to a structured education programme in the 279 days following their diabetes diagnosis. Reject the remaining patients. |   |
| *End of numerator rules* |                                                             |                |                 |                                                                                                                                                                                    |   |

| <br>**Indicator ID** | Description                                                                                                                                                                  | Applied to population: | GPSES use only: Version | Config style |
|----------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------|-------------------------|--------------|
| DM020                | The percentage of patients with diabetes, on the register, without moderate or severe frailty in whom the last IFCC-HbA1c is 58 mmol/mol or less in the preceding 12 months. | [DM_REG](#_XXX_REG)    | 100                     | Q            |

The numerator is applied to the patients selected into the denominator for this indicator.

| **Denominator**            |                                                                                                                                                                                                                                                                                                                                                                                                                                                              |                |                 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |           |                 |
|----------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------|-----------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-----------|-----------------|
| Rule number                | Rule                                                                                                                                                                                                                                                                                                                                                                                                                                                         | Action if true | Action if false | Rule description or comments                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | Rule type | CQRS short name |
|                            | If [SEVFRAIL_DAT](#sevfrail_dat) = [FRAILLAT_DAT](#fraillat_dat)<br>OR<br>If [MODFRAIL_DAT](#modfrail_dat) = [FRAILLAT_DAT](#fraillat_dat)                                                                                                                                                                                                                                                                                                                   | Reject         | Next rule       | Reject patients from the specified population whose latest frailty diagnosis is moderate or severe. Pass all remaining patients to the next rule.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | EX        | MDSEVFRAIL      |
|                            | If [IFCCHBA_VAL](#ifcchba_val) \<= 58<br>AND<br>If [IFCCHBA_DAT](#ifcchba_dat) \> ([PPED](#_Payment_Period_End) – 12 months)                                                                                                                                                                                                                                                                                                                                 | Select         | Next rule       | Select patients passed to this rule who meet both of the criteria below:<br>Have their latest IFCC-HbA1c of 58 mmol/mol or less.<br>Have their latest IFCC-HbA1c reading was recorded in the 12 months leading up to and including the payment period end date.<br>Pass all remaining patients to the next rule.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | SX        |                 |
|                            | (If [IFCCHBA_DAT](#ifcchba_dat) \<= ([PPED](#_Payment_Period_End) – 12 months)<br>OR<br>If [IFCCHBA_DAT](#ifcchba_dat) = Null)<br>AND<br>(If [SERFRUC_DAT](#serfruc_dat) \> ([PPED](#_Payment_Period_End) – 12 months))                                                                                                                                                                                                                                      | Reject         | Next rule       | Reject patients passed to this rule who did not have their IFCC-HbA1c recorded during the current service year but did have serum fructosamine recorded during the service year. Pass all remaining patients to the next rule.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | PS        | IFCCHBA         |
|                            | If [DMMAX_DAT](#dmmax_dat) \> ([PPED](#_Payment_Period_End) – 12 months)                                                                                                                                                                                                                                                                                                                                                                                     | Reject         | Next rule       | Reject patients passed to this rule who are on maximum tolerated diabetes treatment in the 12 months leading up to and including the payment period end date. Pass all remaining patients to the next rule.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | PS        | DMMAX           |
|                            | If [DMPCAPU_DAT](#dmpcapu_dat) \> ([PPED](#_Payment_Period_End) <#PAYMENTPERIODEND_DAT>– 12 months)                                                                                                                                                                                                                                                                                                                                                          | Reject         | Next rule       | Reject patients passed to this rule for whom diabetes quality indicator care was unsuitable in the 12 months leading up to and including the payment period end date. Pass all remaining patients to the next rule.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | PG        | DMPCAPU         |
|                            | If [BLDTESTDEC_DAT](#bldtestdec_dat) \> ([PPED](#_Payment_Period_End) <#PAYMENTPERIODEND_DAT>– 12 months)                                                                                                                                                                                                                                                                                                                                                    | Reject         | Next rule       | Reject patients passed to this rule who chose not to receive a blood test in the 12 months leading up to and including the payment period end date. Pass all remaining patients to the next rule.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | PS        | BLDTESTDEC      |
|                            | If [DMPCADEC_DAT](#dmpcadec_dat) \> ([PPED](#_Payment_Period_End) – 12 months)                                                                                                                                                                                                                                                                                                                                                                               | Reject         | Next rule       | Reject patients passed to this rule who chose not to receive diabetes quality indicator care in the 12 months leading up to and including the payment period end date. Pass all remaining patients to the next rule.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | PG        | DMPCADEC        |
|                            | (If [IFCCHBA_DAT](#ifcchba_dat) \> ([PPED](#_Payment_Period_End) – 12 months)<br>AND<br>If [IFCCHBA_VAL](#ifcchba_val) \> 58<br>AND <br>If [DMINVITE1_DAT](#dminvite1_dat) \> [IFCCHBA_DAT](#ifcchba_dat)<br>AND<br>If [DMINVITE2_DAT](#dminvite2_dat) ≠ Null)<br>OR<br>(If [DMINVITE2_DAT](#dminvite2_dat) ≠ Null<br>AND<br>(If [IFCCHBA_DAT](#ifcchba_dat) = Null<br>OR<br>If [IFCCHBA_DAT](#ifcchba_dat) \<= ([PPED](#_Payment_Period_End) – 12 months))) | Reject         | Next rule       | Reject patients passed to this rule who meet either of the criteria below:<br>Latest IFCC-HbA1c recorded in the 12 months leading up to and including the payment period end date was above target levels (IFCC-HbA1c was above 58 mmol/mol), and was followed by two invitations for diabetes monitoring.<br>Received two invitations for diabetes monitoring and had no IFCC-HbA1c recorded during the 12 months leading up to and including the achievement date.<br>Pass all remaining patients to the next rule.<br>*Please note: To support GP practices in enabling them to carry out QOF care reviews after two invitations for care have been coded,* **clinical system prompts should not remove a patient from the indicator***.* <br>*Currently, once the second invite code has been added to the patient record, the Business Rules logic will remove the patient from the Denominator and clinical systems may automatically remove the prompt, removing the chance for opportunistic reviews where necessary. If a patient has not responded to the invitations, and has not received the intervention required by a given indicator, then that patient will be removed from the indicator via personalised care adjustments at year end. This is for payment purposes only. However, up until year end it is expected that such patients should still be flagged up to practices as requiring the care specified by the indicator.* | PG        | DMIFINVITE      |
|                            | If [DM_DAT](#dm_dat) \> ([PPED](#_Payment_Period_End) – 9 months)                                                                                                                                                                                                                                                                                                                                                                                            | Reject         | Next rule       | Reject patients passed to this rule whose diabetes diagnosis was in the 9 months leading up to and including the payment period end date. Pass all remaining patients to the next rule.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | PG        | DIAG1_DT9M      |
|                            | If [REG_DAT](#reg_dat) \> ([PPED](#_Payment_Period_End) – 9 months)                                                                                                                                                                                                                                                                                                                                                                                          | Reject         | Select          | Reject patients passed to this rule who registered with the practice in the 9 months leading up to and including the payment period end date. Select the remaining patients.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | PG        | REG1_DAT9       |
| *End of denominator rules* |                                                                                                                                                                                                                                                                                                                                                                                                                                                              |                |                 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |           |                 |

| **Numerator**            | **Configure**                                                                                                                |                |                 |                                                                                                                                                                                                                                                                                                    |   |
|--------------------------|------------------------------------------------------------------------------------------------------------------------------|----------------|-----------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---|
| Rule number              | Rule                                                                                                                         | Action if true | Action if false | Rule description or comments                                                                                                                                                                                                                                                                       | Y |
|                          | If [IFCCHBA_VAL](#ifcchba_val) \<= 58<br>AND<br>If [IFCCHBA_DAT](#ifcchba_dat) \> ([PPED](#_Payment_Period_End) – 12 months) | Select         | Reject          | Select patients from the denominator who meet both of the criteria below:<br>Have their latest IFCC-HbA1c of 58 mmol/mol or less.<br>Have their latest IFCC-HbA1c reading was recorded in the 12 months leading up to and including the payment period end date.<br>Reject the remaining patients. |   |
| *End of numerator rules* |                                                                                                                              |                |                 |                                                                                                                                                                                                                                                                                                    |   |

| **Indicator ID** | Description                                                                                                                                                               | Applied to population: | GPSES use only: Version | Config style |
|------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------|-------------------------|--------------|
| DM021            | The percentage of patients with diabetes, on the register, with moderate or severe frailty in whom the last IFCC-HbA1c is 75 mmol/mol or less in the preceding 12 months. | [DM_REG](#_XXX_REG)    | 100                     | Q            |

The numerator is applied to the patients selected into the denominator for this indicator.

| **Denominator**            |                                                                                                                                                                                                                                                                                                                                                                                                                                                              |                |                 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |           |                 |
|----------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------|-----------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-----------|-----------------|
| Rule number                | Rule                                                                                                                                                                                                                                                                                                                                                                                                                                                         | Action if true | Action if false | Rule description or comments                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | Rule type | CQRS short name |
|                            | If [SEVFRAIL_DAT](#sevfrail_dat) = [FRAILLAT_DAT](#fraillat_dat)<br>OR<br>If [MODFRAIL_DAT](#modfrail_dat) = [FRAILLAT_DAT](#fraillat_dat)                                                                                                                                                                                                                                                                                                                   | Next rule      | Reject          | Pass to the next rule all patients from the specified population whose latest frailty diagnosis is moderate or severe. Reject the remaining patients.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | EX        | MDSEVFRAIL      |
|                            | If [IFCCHBA_VAL](#ifcchba_val) \<= 75<br>AND<br>If [IFCCHBA_DAT](#ifcchba_dat) \> ([PPED](#_Payment_Period_End) – 12 months)                                                                                                                                                                                                                                                                                                                                 | Select         | Next rule       | Select patients passed to this rule who meet both of the criteria below:<br>Have their latest IFCC-HbA1c of 75 mmol/mol or less.<br>Have their latest IFCC-HbA1c reading was recorded in the 12 months leading up to and including the payment period end date.<br>Pass all remaining patients to the next rule.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | SX        |                 |
|                            | (If [IFCCHBA_DAT](#ifcchba_dat) \<= ([PPED](#_Payment_Period_End) – 12 months)<br>OR<br>If [IFCCHBA_DAT](#ifcchba_dat) = Null)<br>AND<br>(If [SERFRUC_DAT](#serfruc_dat) \> ([PPED](#_Payment_Period_End) – 12 months))                                                                                                                                                                                                                                      | Reject         | Next rule       | Reject patients passed to this rule who did not have their IFCC-HbA1c recorded during the current service year but did have serum fructosamine recorded during the service year. Pass all remaining patients to the next rule.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | PS        | IFCCHBA         |
|                            | If [DMMAX_DAT](#dmmax_dat) \> ([PPED](#_Payment_Period_End) – 12 months)                                                                                                                                                                                                                                                                                                                                                                                     | Reject         | Next rule       | Reject patients passed to this rule who are on maximum tolerated diabetes treatment in the 12 months leading up to and including the payment period end date. Pass all remaining patients to the next rule.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | PS        | DMMAX           |
|                            | If [DMPCAPU_DAT](#dmpcapu_dat) \> ([PPED](#_Payment_Period_End) <#PAYMENTPERIODEND_DAT>– 12 months)                                                                                                                                                                                                                                                                                                                                                          | Reject         | Next rule       | Reject patients passed to this rule for whom diabetes quality indicator care was unsuitable in the 12 months leading up to and including the payment period end date. Pass all remaining patients to the next rule.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | PG        | DMPCAPU         |
|                            | If [BLDTESTDEC_DAT](#bldtestdec_dat) \> ([PPED](#_Payment_Period_End) <#PAYMENTPERIODEND_DAT>– 12 months)                                                                                                                                                                                                                                                                                                                                                    | Reject         | Next rule       | Reject patients passed to this rule who chose not to receive a blood test in the 12 months leading up to and including the payment period end date. Pass all remaining patients to the next rule.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | PS        | BLDTESTDEC      |
|                            | If [DMPCADEC_DAT](#dmpcadec_dat) \> ([PPED](#_Payment_Period_End) – 12 months)                                                                                                                                                                                                                                                                                                                                                                               | Reject         | Next rule       | Reject patients passed to this rule who chose not to receive diabetes quality indicator care in the 12 months leading up to and including the payment period end date. Pass all remaining patients to the next rule.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | PG        | DMPCADEC        |
|                            | (If [IFCCHBA_DAT](#ifcchba_dat) \> ([PPED](#_Payment_Period_End) – 12 months)<br>AND<br>If [IFCCHBA_VAL](#ifcchba_val) \> 75<br>AND <br>If [DMINVITE1_DAT](#dminvite1_dat) \> [IFCCHBA_DAT](#ifcchba_dat)<br>AND<br>If [DMINVITE2_DAT](#dminvite2_dat) ≠ Null)<br>OR<br>(If [DMINVITE2_DAT](#dminvite2_dat) ≠ Null<br>AND<br>(If [IFCCHBA_DAT](#ifcchba_dat) = Null<br>OR<br>If [IFCCHBA_DAT](#ifcchba_dat) \<= ([PPED](#_Payment_Period_End) – 12 months))) | Reject         | Next rule       | Reject patients passed to this rule who meet either of the criteria below:<br>Latest IFCC-HbA1c recorded in the 12 months leading up to and including the payment period end date was above target levels (IFCC-HbA1c was above 75 mmol/mol), and was followed by two invitations for diabetes monitoring.<br>Received two invitations for diabetes monitoring and had no IFCC-HbA1c recorded during the 12 months leading up to and including the achievement date.<br>Pass all remaining patients to the next rule.<br>*Please note: to support GP practices in enabling them to carry out QOF care reviews after two invitations for care have been coded,* **clinical system prompts should not remove a patient from the indicator***.* <br>*Currently, once the second invite code has been added to the patient record, the Business Rules logic will remove the patient from the Denominator and clinical systems may automatically remove the prompt, removing the chance for opportunistic reviews where necessary. If a patient has not responded to the invitations, and has not received the intervention required by a given indicator, then that patient will be removed from the indicator via personalised care adjustments at year end. This is for payment purposes only. However, up until year end it is expected that such patients should still be flagged up to practices as requiring the care specified by the indicator.* | PG        | DMIFINVITE      |
|                            | If [DM_DAT](#dm_dat) \> ([PPED](#_Payment_Period_End) – 9 months)                                                                                                                                                                                                                                                                                                                                                                                            | Reject         | Next rule       | Reject patients passed to this rule whose diabetes diagnosis was in the 9 months leading up to and including the payment period end date. Pass all remaining patients to the next rule.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | PG        | DIAG1_DT9M      |
|                            | If [REG_DAT](#reg_dat) \> ([PPED](#_Payment_Period_End) – 9 months)                                                                                                                                                                                                                                                                                                                                                                                          | Reject         | Select          | Reject patients passed to this rule who registered with the practice in the 9 months leading up to and including the payment period end date. Select the remaining patients.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | PG        | REG1_DAT9       |
| *End of denominator rules* |                                                                                                                                                                                                                                                                                                                                                                                                                                                              |                |                 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |           |                 |

| **Numerator**            | **Configure**                                                                                                                |                |                 |                                                                                                                                                                                                                                                                                                    |   |
|--------------------------|------------------------------------------------------------------------------------------------------------------------------|----------------|-----------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---|
| Rule number              | Rule                                                                                                                         | Action if true | Action if false | Rule description or comments                                                                                                                                                                                                                                                                       | Y |
|                          | If [IFCCHBA_VAL](#ifcchba_val) \<= 75<br>AND<br>If [IFCCHBA_DAT](#ifcchba_dat) \> ([PPED](#_Payment_Period_End) – 12 months) | Select         | Reject          | Select patients from the denominator who meet both of the criteria below:<br>Have their latest IFCC-HbA1c of 75 mmol/mol or less.<br>Have their latest IFCC-HbA1c reading was recorded in the 12 months leading up to and including the payment period end date.<br>Reject the remaining patients. |   |
| *End of numerator rules* |                                                                                                                              |                |                 |                                                                                                                                                                                                                                                                                                    |   |

| **Indicator ID** | Description                                                                                                                                                                                                                                                                                         | Applied to population: | GPSES use only: Version | Config style |
|------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------|-------------------------|--------------|
| DM022            | The percentage of patients with diabetes, on the register, aged 40 years or over, with no history of CVD and without moderate or severe frailty, who are currently treated with a statin (excluding patients with type 2 diabetes and a CVD risk score of \<10% recorded in the preceding 3 years). | [DM_REG](#_XXX_REG)    | 100                     | Q            |

The numerator is applied to the patients selected into the denominator for this indicator.

| **Denominator**            |                                                                                                                                                                                                                                                                                                                                         |                |                 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |           |                 |
|----------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------|-----------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-----------|-----------------|
| Rule number                | Rule                                                                                                                                                                                                                                                                                                                                    | Action if true | Action if false | Rule description or comments                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | Rule type | CQRS short name |
|                            | If [PAT_AGE](#pat_age) \< 40                                                                                                                                                                                                                                                                                                            | Reject         | Next rule       | Reject patients from the specified population who are aged 39 years or less at the achievement date. Pass all remaining patients to the next rule.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | EX        | PAT_AGEU39      |
|                            | If [CHD_DAT](#chd_dat) ≠ Null<br>OR<br>If [STRK_DAT](#strk_dat) ≠ Null<br>OR<br>If [TIA_DAT](#tia_dat) ≠ Null<br>OR<br>If [PAD_DAT](#pad_dat) ≠ Null<br>OR<br>If [FHYP_DAT](#fhyp_dat) ≠ Null<br>OR<br>(If [CKD_DAT](#ckd_dat) ≠ Null<br>AND<br>If [CKD1AND2_DAT](#ckd1and2_dat) = Null<br>AND <br>If [CKDRES_DAT](#ckdres_dat) = Null) | Reject         | Next rule       | Reject patients passed to this rule who have any of the following diagnoses up to and including the achievement date:<br>Coronary heart disease (CHD) diagnosis.<br>Stroke diagnosis.<br>Transient ischaemic attack (TIA) diagnosis.<br>Peripheral arterial disease (PAD) diagnosis.<br>Familial hypercholesterolemia diagnosis.<br>Unresolved chronic kidney disease (CKD) 3-5 diagnosis not superseded by a chronic kidney disease (CKD) 1-2 diagnosis.<br>Pass all remaining patients to the next rule.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | EX        | CVDHIST         |
|                            | If [SEVFRAIL_DAT](#sevfrail_dat) = [FRAILLAT_DAT](#fraillat_dat)<br>OR<br>If [MODFRAIL_DAT](#modfrail_dat) = [FRAILLAT_DAT](#fraillat_dat)                                                                                                                                                                                              | Reject         | Next rule       | Reject patients passed to this rule whose latest frailty diagnosis is moderate or severe. Pass all remaining patients to the next rule.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | EX        | MDSEVFRAIL      |
|                            | If [DMTYPE2_DAT](#_DMTYPE2_DAT) = [DMLAT_DAT](#dmlat_dat)<br>AND<br>If [CVDASSU10_DAT](#cvdassu10_dat) ≠ Null<br>AND<br>If [CVDASSO10_DAT](#cvdasso10_dat) = Null                                                                                                                                                                       | Reject         | Next rule       | Reject patients passed to this rule who meet all of the criteria below:<br>Latest diagnosis is type 2 diabetes.<br>Latest CVD risk score is under 10% with no subsequent score of 10% or over recorded in the 3 years leading up to and including the achievement date. <br>Pass all remaining patients to the next rule.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | EX        | DMTYPE2         |
|                            | If [STAT_DAT](#stat_dat) \> ([PPED](#_Payment_Period_End) – 6 months)                                                                                                                                                                                                                                                                   | Select         | Next rule       | Select patients passed to this rule who were on statins in the 6 months leading up to and including the payment period end date. Pass all remaining patients to the next rule.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | SX        |                 |
|                            | If [CHOLMAX_DAT](#cholmax_dat) \> ([PPED](#_Payment_Period_End) – 12 months)                                                                                                                                                                                                                                                            | Reject         | Next rule       | Reject patients passed to this rule who are receiving maximum tolerated cholesterol lowering treatment in the 12 months leading up to and including the payment period end date. Pass all remaining patients to the next rule.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | PS        | CHOLMAX         |
|                            | If [XSTAT_DAT](#xstat_dat) ≠ Null                                                                                                                                                                                                                                                                                                       | Reject         | Next rule       | Reject patients passed to this rule who have a persisting statin contraindication anywhere in the patient record. Pass all remaining patients to the next rule.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | PS        | XSTAT           |
|                            | If [TXSTAT_DAT](#txstat_dat) \> ([PPED](#_Payment_Period_End) – 12 months)                                                                                                                                                                                                                                                              | Reject         | Next rule       | Reject patients passed to this rule who have an expiring statin contraindication recorded in the 12 months leading up to and including the payment period end date. Pass all remaining patients to the next rule.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | PS        | TXSTAT          |
|                            | If [DMPCAPU_DAT](#dmpcapu_dat) \> ([PPED](#_Payment_Period_End) <#PAYMENTPERIODEND_DAT>– 12 months)                                                                                                                                                                                                                                     | Reject         | Next rule       | Reject patients passed to this rule for whom diabetes quality indicator care was unsuitable in the 12 months leading up to and including the payment period end date. Pass all remaining patients to the next rule.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | PG        | DMPCAPU         |
|                            | If [STATINDEC_DAT](#statindec_dat) \> ([PPED](#_Payment_Period_End) <#PAYMENTPERIODEND_DAT>– 12 months)                                                                                                                                                                                                                                 | Reject         | Next rule       | Reject patients passed to this rule who chose not to receive a statin prescription in the 12 months leading up to and including the payment period end date. Pass all remaining patients to the next rule.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | PS        | STATINDEC       |
|                            | If [DMPCADEC_DAT](#dmpcadec_dat) \> ([PPED](#_Payment_Period_End) – 12 months)                                                                                                                                                                                                                                                          | Reject         | Next rule       | Reject patients passed to this rule who chose not to receive diabetes quality indicator care in the 12 months leading up to and including the payment period end date. Pass all remaining patients to the next rule.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            | PG        | DMPCADEC        |
|                            | If [DMINVITE1_DAT](#dminvite1_dat) ≠ Null<br>AND<br>If [DMINVITE2_DAT](#dminvite2_dat) ≠ Null                                                                                                                                                                                                                                           | Reject         | Next rule       | Reject patients passed to this rule who have not responded to at least two diabetes care review invitations, made at least 7 days apart, in the 12 months leading up to and including the payment period end date. Pass all remaining patients to the next rule.<br>*Please note: to support GP practices in enabling them to carry out QOF care reviews after two invitations for care have been coded,* **clinical system prompts should not remove a patient from the indicator***.* <br>*Currently, once the second invite code has been added to the patient record, the Business Rules logic will remove the patient from the Denominator and clinical systems may automatically remove the prompt, removing the chance for opportunistic reviews where necessary. If a patient has not responded to the invitations, and has not received the intervention required by a given indicator, then that patient will be removed from the indicator via personalised care adjustments at year end. This is for payment purposes only. However, up until year end it is expected that such patients should still be flagged up to practices as requiring the care specified by the indicator.* | PG        | DMINVITE        |
|                            | If [DM_DAT](#dm_dat) \> ([PPED](#_Payment_Period_End) – 3 months)                                                                                                                                                                                                                                                                       | Reject         | Next rule       | Reject patients passed to this rule whose diabetes diagnosis was in the 3 months leading up to and including the payment period end date. Pass all remaining patients to the next rule.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | PG        | DIAG1_DAT       |
|                            | If [REG_DAT](#reg_dat) \> ([PPED](#_Payment_Period_End) – 3 months)                                                                                                                                                                                                                                                                     | Reject         | Select          | Reject patients passed to this rule who registered with the practice in the 3 months leading up to and including the payment period end date. Select the remaining patients.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | PG        | REG1_DAT3       |
| *End of denominator rules* |                                                                                                                                                                                                                                                                                                                                         |                |                 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |           |                 |

| <br>**Numerator**        | Configure                                                             |                |                 |                                                                                                                                                                  |   |
|--------------------------|-----------------------------------------------------------------------|----------------|-----------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------|---|
| Rule number              | Rule                                                                  | Action if true | Action if false | Rule description or comments                                                                                                                                     | Y |
|                          | If [STAT_DAT](#stat_dat) \> ([PPED](#_Payment_Period_End) – 6 months) | Select         | Reject          | Select patients from the denominator who were on statins in the 6 months leading up to and including the payment period end date. Reject the remaining patients. |   |
| *End of numerator rules* |                                                                       |                |                 |                                                                                                                                                                  |   |

| <br>**Indicator ID** | Description                                                                                                                                              | Applied to population: | GPSES use only: Version | Config style |
|----------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------|-------------------------|--------------|
| DM023                | The percentage of patients with diabetes, on the register, and a history of CVD (excluding haemorrhagic stroke) who are currently treated with a statin. | [DM_REG](#_XXX_REG)    | 100                     | Q            |

The numerator is applied to the patients selected into the denominator for this indicator.

| **Denominator**            |                                                                                                                                                                                                                                                                                                                                         |                |                 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |           |                 |
|----------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------|-----------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-----------|-----------------|
| Rule number                | Rule                                                                                                                                                                                                                                                                                                                                    | Action if true | Action if false | Rule description or comments                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | Rule type | CQRS short name |
|                            | If [CHD_DAT](#chd_dat) ≠ Null<br>OR<br>If [STRK_DAT](#strk_dat) ≠ Null<br>OR<br>If [TIA_DAT](#tia_dat) ≠ Null<br>OR<br>If [PAD_DAT](#pad_dat) ≠ Null<br>OR<br>If [FHYP_DAT](#fhyp_dat) ≠ Null<br>OR<br>(If [CKD_DAT](#ckd_dat) ≠ Null<br>AND<br>If [CKD1AND2_DAT](#ckd1and2_dat) = Null<br>AND <br>If [CKDRES_DAT](#ckdres_dat) = Null) | Next rule      | Reject          | Pass to the next rule all patients from the specified population who have any of the following diagnoses up to and including the achievement date:<br>Coronary heart disease (CHD) diagnosis.<br>Stroke diagnosis.<br>Transient ischaemic attack (TIA) diagnosis.<br>Peripheral arterial disease (PAD) diagnosis.<br>Familial hypercholesterolemia diagnosis.<br>Unresolved chronic kidney disease (CKD) 3-5 diagnosis not superseded by a chronic kidney disease (CKD) 1-2 diagnosis.<br>Reject the remaining patients.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | EX        | CVDNOHIST       |
|                            | If [HSTRK_DAT](#hstrk_dat) ≠ Null                                                                                                                                                                                                                                                                                                       | Reject         | Next rule       | Reject patients passed to this rule who have had a haemorrhagic stroke up to and including the achievement date. Pass all remaining patients to the next rule.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | EX        | HSTRK           |
|                            | If [STAT_DAT](#stat_dat) \> ([PPED](#_Payment_Period_End) – 6 months)                                                                                                                                                                                                                                                                   | Select         | Next rule       | Select patients passed to this rule who were on statins in the 6 months leading up to and including the payment period end date. Pass all remaining patients to the next rule.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | SX        |                 |
|                            | If [CHOLMAX_DAT](#cholmax_dat) \> ([PPED](#_Payment_Period_End) – 12 months)                                                                                                                                                                                                                                                            | Reject         | Next rule       | Reject patients passed to this rule who are receiving maximum tolerated cholesterol lowering treatment in the 12 months leading up to and including the payment period end date. Pass all remaining patients to the next rule.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | PS        | CHOLMAX         |
|                            | If [XSTAT_DAT](#xstat_dat) ≠ Null                                                                                                                                                                                                                                                                                                       | Reject         | Next rule       | Reject patients passed to this rule who have a persisting statin contraindication anywhere in the patient record. Pass all remaining patients to the next rule.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | PS        | XSTAT           |
|                            | If [TXSTAT_DAT](#txstat_dat) \> ([PPED](#_Payment_Period_End) – 12 months)                                                                                                                                                                                                                                                              | Reject         | Next rule       | Reject patients passed to this rule who have an expiring statin contraindication recorded in the 12 months leading up to and including the payment period end date. Pass all remaining patients to the next rule.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | PS        | TXSTAT          |
|                            | If [DMPCAPU_DAT](#dmpcapu_dat) \> ([PPED](#_Payment_Period_End) <#PAYMENTPERIODEND_DAT>– 12 months)                                                                                                                                                                                                                                     | Reject         | Next rule       | Reject patients passed to this rule for whom diabetes quality indicator care was unsuitable in the 12 months leading up to and including the payment period end date. Pass all remaining patients to the next rule.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | PG        | DMPCAPU         |
|                            | If [STATINDEC_DAT](#statindec_dat) \> ([PPED](#_Payment_Period_End) <#PAYMENTPERIODEND_DAT>– 12 months)                                                                                                                                                                                                                                 | Reject         | Next rule       | Reject patients passed to this rule who chose not to receive a statin prescription in the 12 months leading up to and including the payment period end date. Pass all remaining patients to the next rule.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | PS        | STATINDEC       |
|                            | If [DMPCADEC_DAT](#dmpcadec_dat) \> ([PPED](#_Payment_Period_End) – 12 months)                                                                                                                                                                                                                                                          | Reject         | Next rule       | Reject patients passed to this rule who chose not to receive diabetes quality indicator care in the 12 months leading up to and including the payment period end date. Pass all remaining patients to the next rule.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            | PG        | DMPCADEC        |
|                            | If [DMINVITE1_DAT](#dminvite1_dat) ≠ Null<br>AND<br>If [DMINVITE2_DAT](#dminvite2_dat) ≠ Null                                                                                                                                                                                                                                           | Reject         | Next rule       | Reject patients passed to this rule who have not responded to at least two diabetes care review invitations, made at least 7 days apart, in the 12 months leading up to and including the payment period end date. Pass all remaining patients to the next rule.<br>*Please note: to support GP practices in enabling them to carry out QOF care reviews after two invitations for care have been coded,* **clinical system prompts should not remove a patient from the indicator***.* <br>*Currently, once the second invite code has been added to the patient record, the Business Rules logic will remove the patient from the Denominator and clinical systems may automatically remove the prompt, removing the chance for opportunistic reviews where necessary. If a patient has not responded to the invitations, and has not received the intervention required by a given indicator, then that patient will be removed from the indicator via personalised care adjustments at year end. This is for payment purposes only. However, up until year end it is expected that such patients should still be flagged up to practices as requiring the care specified by the indicator.* | PG        | DMINVITE        |
|                            | If [DM_DAT](#dm_dat) \> ([PPED](#_Payment_Period_End) – 3 months)                                                                                                                                                                                                                                                                       | Reject         | Next rule       | Reject patients passed to this rule whose diabetes diagnosis was in the 3 months leading up to and including the payment period end date. Pass all remaining patients to the next rule.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | PG        | DIAG1_DAT       |
|                            | If [REG_DAT](#reg_dat) \> ([PPED](#_Payment_Period_End) – 3 months)                                                                                                                                                                                                                                                                     | Reject         | Select          | Reject patients passed to this rule who registered with the practice in the 3 months leading up to and including the payment period end date. Select the remaining patients.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | PG        | REG1_DAT3       |
| *End of denominator rules* |                                                                                                                                                                                                                                                                                                                                         |                |                 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |           |                 |

| **Numerator**            | Configure                                                             |                |                 |                                                                                                                                                                  |   |
|--------------------------|-----------------------------------------------------------------------|----------------|-----------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------|---|
| Rule number              | Rule                                                                  | Action if true | Action if false | Rule description or comments                                                                                                                                     | Y |
|                          | If [STAT_DAT](#stat_dat) \> ([PPED](#_Payment_Period_End) – 6 months) | Select         | Reject          | Select patients from the denominator who were on statins in the 6 months leading up to and including the payment period end date. Reject the remaining patients. |   |
| *End of numerator rules* |                                                                       |                |                 |                                                                                                                                                                  |   |

| <br>**Indicator ID** | Description                                                                                                                                                                                                                                     | Applied to population: | GPSES use only: Version | Config style |
|----------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------|-------------------------|--------------|
| DM033                | The percentage of patients with diabetes, on the register, without moderate or severe frailty in whom the last blood pressure reading (measured in the preceding 12 months) is 140/90mmHg or less (or equivalent home blood pressure reading).  | [DM_REG](#_XXX_REG)    |                         | Q            |

The numerator is applied to the patients selected into the denominator for this indicator.

| **Denominator**            |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |                |                 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |           |                 |
|----------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------|-----------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-----------|-----------------|
| Rule number                | Rule                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            | Action if true | Action if false | Rule description or comments                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | Rule type | CQRS short name |
|                            | If [SEVFRAIL_DAT](#sevfrail_dat) = [FRAILLAT_DAT](#fraillat_dat)<br>OR<br>If [MODFRAIL_DAT](#modfrail_dat) = [FRAILLAT_DAT](#fraillat_dat)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | Reject         | Next rule       | Reject patients from the specified population whose latest frailty diagnosis is moderate or severe. Pass all remaining patients to the next rule.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | EX        | MDSEVFRAIL      |
|                            | If \<= 140<br>AND<br>If \<= 90<br>AND<br>If \> ([PPED](#_Payment_Period_End) – 12 months)<br>AND<br>If                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | Select         | Next rule       | Select patients passed to this rule whose latest blood pressure recording was not taken using a Home Blood Pressure Monitor and meets all of the criteria below:<br>Systolic blood pressure value was 140 mmHg or less.<br>Diastolic blood pressure value was 90 mmHg or less.<br>Recorded in the 12 months leading up to and including the payment period end date.<br>Pass all remaining patients to the next rule.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            | SX        |                 |
|                            | If \<= 135<br>AND<br>If \<= 85<br>AND<br>If \> ([PPED](#_Payment_Period_End) – 12 months)<br>AND<br>If                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | Select         | Next rule       | Select patients passed to this rule whose latest blood pressure recording taken using a Home Blood Pressure Monitor and meets all of the criteria below:<br>Systolic blood pressure value was 135 mmHg or less.<br>Diastolic blood pressure value was 85 mmHg or less.<br>Recorded in the 12 months leading up to and including the payment period end date.<br>Pass all remaining patients to the next rule.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | SX        |                 |
|                            | If [HTMAX_DAT](#htmax_dat) \> ([PPED](#_Payment_Period_End) – 12 months)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | Reject         | Next rule       | Reject patients passed to this rule who are receiving maximal blood pressure therapy in the 12 months leading up to and including the payment period end date. Pass all remaining patients to the next rule.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | PS        | HTMAX           |
|                            | If [DMPCAPU_DAT](#dmpcapu_dat) \> ([PPED](#_Payment_Period_End) <#PAYMENTPERIODEND_DAT>– 12 months)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | Reject         | Next rule       | Reject patients passed to this rule for whom diabetes quality indicator care was unsuitable in the 12 months leading up to and including the payment period end date. Pass all remaining patients to the next rule.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | PG        | DMPCAPU         |
|                            | If [BPDEC_DAT](#bpdec_dat) \> ([PPED](#_Payment_Period_End) <#PAYMENTPERIODEND_DAT>– 12 months)<br>OR<br>If [HOMEBPDEC_DAT](#homebpdec_dat) \> (PPED – 12 months)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | Reject         | Next rule       | Reject patients passed to this rule who chose not to have their blood pressure recorded or undertake home blood pressure monitoring in the 12 months leading up to and including the payment period end date. Pass all remaining patients to the next rule.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | PS        | BPORHBPDEC      |
|                            | If [DMPCADEC_DAT](#dmpcadec_dat) \> ([PPED](#_Payment_Period_End) – 12 months)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | Reject         | Next rule       | Reject patients passed to this rule who chose not to receive diabetes quality indicator care in the 12 months leading up to and including the payment period end date. Pass all remaining patients to the next rule.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | PG        | DMPCADEC        |
|                            | (If \> ([PPED](#_Payment_Period_End) – 12 months)<br>AND<br>(If \> 140<br>OR<br>If \> 90)<br>AND<br>If <br>AND<br>If [DMINVITE1_DAT](#dminvite1_dat) \> <br>AND <br>If [DMINVITE2_DAT](#dminvite2_dat) ≠ Null)<br>OR<br>(If \> ([PPED](#_Payment_Period_End)<file:///G:/DI/PSU%20H/QOF%20business%20rules%20-%20new%20structure/Actual%20year%202016%20to%202017/QOF%20v35.0%20(April)/CHD/Secondary%20Prevention%20of%20Coronary%20Heart%20Disease%20ruleset_v34.0.doc#PAYMENTPERIODEND_DAT> – 12 months)<br>AND<br>(If \> 135<br>OR<br>If \> 85)<br>AND<br>If <br>AND<br>If [DMINVITE1_DAT](#dminvite1_dat) \> <br>AND <br>If [DMINVITE2_DAT](#dminvite2_dat) ≠ Null)<br>OR <br>(If [DMINVITE2_DAT](#dminvite2_dat) ≠ Null<br>AND<br>(If = Null<br>OR<br>If \<= ([PPED](#_Payment_Period_End)<file:///G:/DI/PSU%20H/QOF%20business%20rules%20-%20new%20structure/Actual%20year%202016%20to%202017/QOF%20v35.0%20(April)/CHD/Secondary%20Prevention%20of%20Coronary%20Heart%20Disease%20ruleset_v34.0.doc#PAYMENTPERIODEND_DAT> – 12 months))) | Reject         | Next rule       | Reject patients passed to this rule who meet either of the criteria below:<br>Latest blood pressure reading in the 12 months leading up to and including the payment period end date was above target levels\*, and was followed by two invitations for diabetes monitoring.<br>Received two invitations for diabetes monitoring and had no blood pressure recordings during the 12 months leading up to and including the achievement date.<br>Pass all remaining patients to the next rule.<br>*\* Above target level indicates a systolic value of over 140 mmHg and/or a diastolic value of over 90 mmHg for non-home blood pressure readings, or systolic value of over 135 mmHg and/or a diastolic value of over 85 mmHg for home blood pressure readings.*<br>*Please note: to support GP practices in enabling them to carry out QOF care reviews after two invitations for care have been coded,* **clinical system prompts should not remove a patient from the indicator***.* <br>*Currently, once the second invite code has been added to the patient record, the Business Rules logic will remove the patient from the Denominator and clinical systems may automatically remove the prompt, removing the chance for opportunistic reviews where necessary. If a patient has not responded to the invitations, and has not received the intervention required by a given indicator, then that patient will be removed from the indicator via personalised care adjustments at year end. This is for payment purposes only. However, up until year end it is expected that such patients should still be flagged up to practices as requiring the care specified by the indicator.* | PG        | DMBPINV         |
|                            | If [DM_DAT](#dm_dat) \> ([PPED](#_Payment_Period_End) – 9 months)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | Reject         | Next rule       | Reject patients passed to this rule whose diabetes diagnosis was in the 9 months leading up to and including the payment period end date. Pass all remaining patients to the next rule.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | PG        | DIAG1_DT9M      |
|                            | If [REG_DAT](#reg_dat) \> ([PPED](#_Payment_Period_End) – 9 months)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | Reject         | Select          | Reject patients passed to this rule who registered with the practice in the 9 months leading up to and including the payment period end date. Select the remaining patients.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | PG        | REG1_DAT9       |
| *End of denominator rules* |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |                |                 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |           |                 |

| **Numerator**            | **Configure**                                                                                           |                |                 |                                                                                                                                                                                                                                                                                                                                                                                                                        |   |
|--------------------------|---------------------------------------------------------------------------------------------------------|----------------|-----------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---|
| Rule number              | Rule                                                                                                    | Action if true | Action if false | Rule description or comments                                                                                                                                                                                                                                                                                                                                                                                           | Y |
|                          | If \<= 140<br>AND<br>If \<= 90<br>AND<br>If \> ([PPED](#_Payment_Period_End) – 12 months)<br>AND<br>If  | Select         | Next rule       | Select patients from the denominator whose latest blood pressure recording was not taken using a Home Blood Pressure Monitor and meets all of the criteria below:<br>Systolic blood pressure value was 140 mmHg or less.<br>Diastolic blood pressure value was 90 mmHg or less.<br>Recorded in the 12 months leading up to and including the payment period end date.<br>Pass all remaining patients to the next rule. |   |
|                          | If \<= 135<br>AND<br>If \<= 85<br>AND<br>If \> ([PPED](#_Payment_Period_End) – 12 months)<br>AND<br>If  | Select         | Reject          | Select patients passed to this rule whose latest blood pressure recording was taken using a Home Blood Pressure Monitor and meets all of the criteria below:<br>Systolic blood pressure value was 135 mmHg or less.<br>Diastolic blood pressure value was 85 mmHg or less.<br>Recorded in the 12 months leading up to and including the payment period end date.<br>Reject the remaining patients.                     |   |
| *End of numerator rules* |                                                                                                         |                |                 |                                                                                                                                                                                                                                                                                                                                                                                                                        |   |

## Payment count(s)

N/A - there are no payment counts for this service.

## Management information count(s)

N/A - there are no management information counts for this service.

## Patient-level extract(s)

N/A - Not applicable for this service.

# 5. Appendix - supporting data for NHS England GPSES

| Category                   | Database value |
|----------------------------|----------------|
| Document version           |                |
| Ruleset Database ID        | Diabetes       |
| Database Service ID        | QOF            |
| SR Reference if applicable |                |
| CQRS service short name    |                |
| CQRS service name          | DM             |
| Configuration level        | Service        |
| Configure list size        | Y              |
