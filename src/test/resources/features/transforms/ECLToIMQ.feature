#Feature: ECLToIMQ

#  Scenario Outline: ECL can be converted into Query and back
#    When getQueryFromEcl is called with ecl <eclIn>
#    Then getEclFromQuery should equal original ecl <eclOut>

#    Examples:
#      | eclIn                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            | eclOut                                                                                                                                                                                                                                 |
#      | "<298705000 AND <301366005"                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | "< 298705000 AND < 301366005"                                                                                                                                                                                                          |
#      | "298705000 AND 301366005"                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | "298705000 AND 301366005"                                                                                                                                                                                                              |
#      | "29857009"                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | "29857009"                                                                                                                                                                                                                             |
#      | "<<225399009 : <<260686004  =  <<129265001  ,<<363702006  = <<29857009 "                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | "<< 225399009: << 260686004 = << 129265001 , << 363702006 = << 29857009"                                                                                                                                                             |
#      | "(<<116536008 or <<350312004):<<127489000 = <<372665008, <<411116001 = <<385268001"                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | "(<< 116536008 OR << 350312004): << 127489000 = << 372665008 , << 411116001 = << 385268001"                                                                                                                                          |
#      | "(<<763158003 \| Medicinal product (product) \| : <<127489000 \| Has active ingredient (attribute) \| = <<372695000 \| Diuretic (substance) \|    AND 8940601000001102 = 8940901000001109 AND 8940001000001105 = 8940201000001104)    MINUS (<<763158003 \| Medicinal product (product) \| : 8940601000001102 = 8941001000001100)"                                                                                                                                                                                                                                                                                               | "(<< 763158003: << 127489000 = << 372695000 , 8940601000001102 = 8940901000001109 , 8940001000001105 = 8940201000001104) MINUS << 763158003: 8940601000001102 = 8941001000001100"                                                      |
#      | "<<763158003 \| Medicinal Product\| : <<127489000\|has active ingredient\| = << 698090000 \|Apixaban (substance) \| OR <<127489000\|has active ingredient\| =<<442031002 \| Rivaroxaban (product) \|"                                                                                                                                                                                                                                                                                                                                                                                                                            | "<< 763158003: << 127489000 = << 698090000 OR << 127489000 = << 442031002"                                                                                                                                                           |
#      | "<<763158003 \| Medicinal Product \|: <<127489000\|has active ingredient \|= <<698090000 \| Apixaban (substance) \| OR <<127489000\|has active ingredient\| = <<442031002 \| Rivaroxaban (substance)\| OR <<127489000\|has active ingredient\|= << 698871007\| Dabigatran (substance)\| OR <<127489000\|has active ingredient\|= << 712778008\| Edoxaban (substance)\| OR <<127489000\|has active ingredient\|= << 387260007\| Phenindione (substance) \| OR <<127489000\|has active ingredient\|= << 59488002 \| Warfarin sodium (substance) \| OR <<127489000\|has active ingredient\|= << 372756006\| Warfarin (substance)\|" | "<< 763158003: << 127489000 = << 698090000 OR << 127489000 = << 442031002 OR << 127489000 = << 698871007 OR << 127489000 = << 712778008 OR << 127489000 = << 387260007 OR << 127489000 = << 59488002 OR << 127489000 = << 372756006" |
#      | "<< 763158003 \| Medicinal product (product) \| : << 127489000 \| Has active ingredient (attribute) \| = << 387207008 \| Ibuprofen (substance) \| AND ( << 411116001 \| Has manufactured dose form (attribute) \| = << 763820000 \| Gastro-resistant oral suspension (dose form) \| OR  << 411116001 \| Has manufactured dose form (attribute) \| = << 421701006 \| Soluble tablet (qualifier value) \| )"                                                                                                                                                                                                                       | "<< 763158003: << 127489000 = << 387207008 , (<< 411116001 = << 763820000 OR << 411116001 = << 421701006)"                                                                                                                           |
#      | "(<< 763158003 \| Medicinal product (product) \|) : << 127489000 \| Has active ingredient (attribute) \| = << 387207008 \| Ibuprofen (substance) \|"                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | "<< 763158003: << 127489000 = << 387207008"                                                                                                                                                                                            |
#      | "(<<298705000 \|Finding of region of thorax (finding)\| and <<298705001 ) "                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | "<< 298705000 AND << 298705001"                                                                                                                                                                                                        |
#      | "(<<298705000 \|Finding of region of thorax (finding)\| and <<301366005 \|Pain of truncal structure (finding)\|) :{ 363698007 \|Finding site (attribute)\| =  <<51185008 \|Thoracic structure (body structure)\| }"                                                                                                                                                                                                                                                                                                                                                                                                              | "(<< 298705000 AND << 301366005): {363698007 = << 51185008}"                                                                                                                                                                           |
#      | "<<312871001\|Administration of vaccine product containing bacteria antigen(procedure)\| OR (*: <<363589002\|Associated procedure(attribute)\| = <<117103007\|Administration of human immune globulin product(procedure)\|)"                                                                                                                                                                                                                                                                                                                                                                                                     | "<< 312871001 OR (*: << 363589002 = << 117103007)"                                                                                                                                                                                     |
#      | "<<763158003:<<127489000= <<372665008,<<411116001= 385268001"                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | "<< 763158003: << 127489000 = << 372665008 , << 411116001 = 385268001"                                                                                                                                                               |
#      | "((<<298705000 \|Finding of region of thorax (finding)\| and <<301366005 \|Pain of truncal structure (finding)\| ): { <<762705008 =  <<51185008 \|Thoracic structure (body structure)\| })minus (*: { 363698007 \|Finding site (attribute)\| = 722725008 \|Structure of right sternoclavicular joint (body structure)\| })"                                                                                                                                                                                                                                                                                                      | "((<< 298705000 AND << 301366005): {<< 762705008 = << 51185008}) MINUS *: {363698007 = 722725008}"                                                                                                                                     |
#      | "((<<298705000 \|Finding of region of thorax (finding)\| and <<301366005 \|Pain of truncal structure (finding)\| ): { <<762705008 =  <<51185008 \|Thoracic structure (body structure)\| })minus <<426396005 \|Cardiac chest pain (finding)\|"                                                                                                                                                                                                                                                                                                                                                                                    | "((<< 298705000 AND << 301366005): {<< 762705008 = << 51185008}) MINUS << 426396005"                                                                                                                                                   |
#      | "<<225399009 \|Pain assessment (procedure)\| :{ <<260686004 \|Method (attribute)\| =  <<129265001 \|Evaluation - action (qualifier value)\| ,<<363702006 \|Has focus (attribute)\| = <<29857009 \|Chest pain (finding)\| }"                                                                                                                                                                                                                                                                                                                                                                                                      | "<< 225399009: {(<< 260686004 = << 129265001 , << 363702006 = << 29857009)}"                                                                                                                                                           |
#      | "(<<298705000 \|Finding of region 2of thorax (finding)\| and <<301366005 \|Pain of truncal structure (finding)\| ):{ <<762705008 =  <<51185008 \|Thoracic structure (body structure)\| }"                                                                                                                                                                                                                                                                                                                                                                                                                                        | "(<< 298705000 AND << 301366005): {<< 762705008 = << 51185008}"                                                                                                                                                                        |
#      | "<<298705000 \|Finding of region of thorax (finding)\| and (<<301366005 \|Pain of truncal structure (finding)\| : { <<762705008 =  <<51185008 \|Thoracic structure (body structure)\| })"                                                                                                                                                                                                                                                                                                                                                                                                                                        | "<< 298705000 AND (<< 301366005: {<< 762705008 = << 51185008})"                                                                                                                                                                        |
#      | "<<298705000 \|Finding of region of thorax (finding)\| and (<<301366005 \|Pain of truncal structure (finding)\| :{ 363698007 \|Finding site (attribute)\| = 51185008 \|Thoracic structure (body structure)\| })"                                                                                                                                                                                                                                                                                                                                                                                                                 | "<< 298705000 AND (<< 301366005: {363698007 = 51185008})"                                                                                                                                                                              |
#      | "(<<298705000 \|Finding of region of thorax (finding)\| and <<301366005 \|Pain of truncal structure (finding)\| ): <<762705008 =  <<51185008 \|Thoracic structure (body structure)\|"                                                                                                                                                                                                                                                                                                                                                                                                                                            | "(<< 298705000 AND << 301366005): << 762705008 = << 51185008"                                                                                                                                                                          |
#      | "<<298705000 \|Finding of region of thorax (finding)\| and (<<301366005 \|Pain of truncal structure (finding)\| :{ 363698007 \|Finding site (attribute)\| =  <<51185008 \|Thoracic structure (body structure)\| })"                                                                                                                                                                                                                                                                                                                                                                                                              | "<< 298705000 AND (<< 301366005: {363698007 = << 51185008})"                                                                                                                                                                           |
#      | "(<<91936005 \| Allergy to Penicillin\| or <<294532003):  << 246075003 \|Causative agent (attribute)\| = <<771577000\| lactam (substance)\|"                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | "(<< 91936005 OR << 294532003): << 246075003 = << 771577000"                                                                                                                                                                           |
#      | "(<<386725007 \| Body temperature (observable entity) \|   OR <<431314004 \| Peripheral oxygen saturation (observable entity) \|) MINUS (<<838441000000103 \| Target body mass index (observable entity) \|  OR <<838451000000100 \| Target body mass index  \| )"                                                                                                                                                                                                                                                                                                                                                               | "(<< 386725007 OR << 431314004) MINUS (<< 838441000000103 OR << 838451000000100)"                                                                                                                                                      |